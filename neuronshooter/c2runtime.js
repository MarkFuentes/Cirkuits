// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,K,ca,M,da,fa,ga,O,ha,ia,ma,na,oa,Q,ra,sa,R,ta,ua,va,wa,xa,ya,Aa,T,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,U,Ja,Ka,La,Ma,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,V,Mb,Nb,W,Ob,Pb={},Qb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(l){return l.__proto__}:function(l){return l.constructor.prototype});
(function(){function l(e,n,b,a){this.set(e,n,b,a)}function r(){this.kb=this.jb=this.mb=this.lb=this.Cb=this.Bb=this.gb=this.fb=0}function g(e,n,b,a){e<n?b<a?(p=e<b?e:b,w=n>a?n:a):(p=e<a?e:a,w=n>b?n:b):b<a?(p=n<b?n:b,w=e>a?e:a):(p=n<a?n:a,w=e>b?e:b)}function q(){this.items=this.Ob=null;this.le=0;G&&(this.Ob=new Set);this.Ge=[];this.Sc=!0}function t(e){D[x++]=e}function c(){this.Ca=this.Kg=this.y=this.eh=0}function a(e){this.ue=[];this.ij=this.kj=this.lj=this.jj=0;this.Cf(e)}function d(e,n){this.jh=
e;this.ih=n;this.cells={}}function f(e,n){this.jh=e;this.ih=n;this.cells={}}function h(e,n,b){var a;return Z.length?(a=Z.pop(),a.Kh=e,a.x=n,a.y=b,a):new ba(e,n,b)}function b(e,n,b){this.Kh=e;this.x=n;this.y=b;this.na=new K}function k(e,n,b){var a;return L.length?(a=L.pop(),a.Kh=e,a.x=n,a.y=b,a):new ca(e,n,b)}function u(e,n,b){this.Kh=e;this.x=n;this.y=b;this.na=[];this.je=!0;this.cc=new K;this.Ke=!1}function m(e,n){return e.Rb-n.Rb}M=function(e){window.console&&window.console.log&&window.console.log(e)};
da=function(e){window.console&&window.console.error&&window.console.error(e)};fa=function(e){return"undefined"===typeof e};ga=function(e){return"number"===typeof e};O=function(e){return"string"===typeof e};ha=function(e){return 0<e&&0===(e-1&e)};ia=function(e){--e;for(var n=1;32>n;n<<=1)e=e|e>>n;return e+1};ma=function(e){return 0>e?-e:e};na=function(e,n){return e<n?e:n};oa=Math.PI;Q=function(e){return 0<=e?e|0:(e|0)-1};ra=function(e){var n=e|0;return n===e?n:n+1};sa=function(e,n,b,a,v,c,d,k){var m,
C,f,h;e<b?(C=e,m=b):(C=b,m=e);v<d?(h=v,f=d):(h=d,f=v);if(m<h||C>f)return!1;n<a?(C=n,m=a):(C=a,m=n);c<k?(h=c,f=k):(h=k,f=c);if(m<h||C>f)return!1;m=v-e+d-b;C=c-n+k-a;e=b-e;n=a-n;v=d-v;c=k-c;k=ma(n*v-c*e);return ma(v*C-c*m)>k?!1:ma(e*C-n*m)<=k};l.prototype.set=function(e,n,b,a){this.left=e;this.top=n;this.right=b;this.bottom=a};l.prototype.Of=function(e){this.left=e.left;this.top=e.top;this.right=e.right;this.bottom=e.bottom};l.prototype.width=function(){return this.right-this.left};l.prototype.height=
function(){return this.bottom-this.top};l.prototype.offset=function(e,n){this.left+=e;this.top+=n;this.right+=e;this.bottom+=n;return this};l.prototype.normalize=function(){var e=0;this.left>this.right&&(e=this.left,this.left=this.right,this.right=e);this.top>this.bottom&&(e=this.top,this.top=this.bottom,this.bottom=e)};l.prototype.nb=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom};l.prototype.Uf=function(e){return this.left===e.left&&this.top===e.top&&this.right===
e.right&&this.bottom===e.bottom};R=l;r.prototype.Hg=function(e){this.fb=e.left;this.gb=e.top;this.Bb=e.right;this.Cb=e.top;this.lb=e.right;this.mb=e.bottom;this.jb=e.left;this.kb=e.bottom};r.prototype.kl=function(e,n){if(0===n)this.Hg(e);else{var b=Math.sin(n),a=Math.cos(n),v=e.left*b,c=e.top*b,d=e.right*b,b=e.bottom*b,k=e.left*a,m=e.top*a,C=e.right*a,a=e.bottom*a;this.fb=k-c;this.gb=m+v;this.Bb=C-c;this.Cb=m+d;this.lb=C-b;this.mb=a+d;this.jb=k-b;this.kb=a+v}};r.prototype.offset=function(e,n){this.fb+=
e;this.gb+=n;this.Bb+=e;this.Cb+=n;this.lb+=e;this.mb+=n;this.jb+=e;this.kb+=n;return this};var p=0,w=0;r.prototype.nj=function(e){g(this.fb,this.Bb,this.lb,this.jb);e.left=p;e.right=w;g(this.gb,this.Cb,this.mb,this.kb);e.top=p;e.bottom=w};r.prototype.nb=function(e,n){var b=this.fb,a=this.gb,v=this.Bb-b,c=this.Cb-a,d=this.lb-b,k=this.mb-a,m=e-b,C=n-a,f=v*v+c*c,h=v*d+c*k,c=v*m+c*C,u=d*d+k*k,p=d*m+k*C,x=1/(f*u-h*h),v=(u*c-h*p)*x,f=(f*p-h*c)*x;if(0<=v&&0<f&&1>v+f)return!0;v=this.jb-b;c=this.kb-a;f=v*
v+c*c;h=v*d+c*k;c=v*m+c*C;x=1/(f*u-h*h);v=(u*c-h*p)*x;f=(f*p-h*c)*x;return 0<=v&&0<f&&1>v+f};ta=r;ua=function(e,n){for(var b in n)n.hasOwnProperty(b)&&(e[b]=n[b]);return e};va=function(e,n){var b,a;n=Q(n);if(!(0>n||n>=e.length)){b=n;for(a=e.length-1;b<a;b++)e[b]=e[b+1];e.length=a}};wa=function(e,n){e.length=n.length;var b,a;b=0;for(a=n.length;b<a;b++)e[b]=n[b]};xa=function(e,n){e.push.apply(e,n)};ya=function(e,n){var b,a;b=0;for(a=e.length;b<a;++b)if(e[b]===n)return b;return-1};Aa=function(e,n){var b=
ya(e,n);-1!==b&&va(e,b)};T=function(e){return e/(180/oa)};Ba=function(e){return 180/oa*e};Ca=function(e){e%=360;0>e&&(e+=360);return e};Da=function(e){e%=2*oa;0>e&&(e+=2*oa);return e};Ea=function(e){return Ca(Ba(e))};Fa=function(e){return Da(T(e))};Ga=function(e,n,b,a){return Math.atan2(a-n,b-e)};Ha=function(e,n){if(e===n)return 0;var b=Math.sin(e),a=Math.cos(e),v=Math.sin(n),c=Math.cos(n),b=b*v+a*c;return 1<=b?0:-1>=b?oa:Math.acos(b)};Ia=function(e,n,b){var a=Math.sin(e),v=Math.cos(e),c=Math.sin(n),
d=Math.cos(n);return Math.acos(a*c+v*d)>b?0<v*c-a*d?Da(e+b):Da(e-b):Da(n)};U=function(e,n){var b=Math.sin(e),a=Math.cos(e),v=Math.sin(n),c=Math.cos(n);return 0>=a*v-b*c};Ja=function(e,n,b,a){e=b-e;n=a-n;return Math.sqrt(e*e+n*n)};Ka=function(e,n){return!e!==!n};La=function(e){for(var n in e)if(e.hasOwnProperty(n))return!0;return!1};Ma=function(e){for(var n in e)e.hasOwnProperty(n)&&delete e[n]};var n=+new Date;Oa=function(){if("undefined"!==typeof window.performance){var e=window.performance;if("undefined"!==
typeof e.now)return e.now();if("undefined"!==typeof e.webkitNow)return e.webkitNow();if("undefined"!==typeof e.mozNow)return e.mozNow();if("undefined"!==typeof e.msNow)return e.msNow()}return Date.now()-n};var e=!1,v=e=!1,C=!1;"undefined"!==typeof window&&(e=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),e=!e&&/safari/i.test(navigator.userAgent),v=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=window.c2ejecta);var G=!e&&!C&&!v&&"undefined"!==typeof Set&&"undefined"!==
typeof Set.prototype.forEach;q.prototype.contains=function(e){return this.vc()?!1:G?this.Ob.has(e):this.items&&this.items.hasOwnProperty(e)};q.prototype.add=function(e){if(G)this.Ob.has(e)||(this.Ob.add(e),this.Sc=!1);else{var n=e.toString(),b=this.items;b?b.hasOwnProperty(n)||(b[n]=e,this.le++,this.Sc=!1):(this.items={},this.items[n]=e,this.le=1,this.Sc=!1)}};q.prototype.remove=function(e){if(!this.vc())if(G)this.Ob.has(e)&&(this.Ob["delete"](e),this.Sc=!1);else if(this.items){e=e.toString();var n=
this.items;n.hasOwnProperty(e)&&(delete n[e],this.le--,this.Sc=!1)}};q.prototype.clear=function(){this.vc()||(G?this.Ob.clear():(this.items=null,this.le=0),this.Ge.length=0,this.Sc=!0)};q.prototype.vc=function(){return 0===this.count()};q.prototype.count=function(){return G?this.Ob.size:this.le};var D=null,x=0;q.prototype.Fp=function(){if(!this.Sc){if(G)this.Ge.length=this.Ob.size,D=this.Ge,x=0,this.Ob.forEach(t),D=null,x=0;else{var e=this.Ge;e.length=this.le;var n,b=0,a=this.items;if(a)for(n in a)a.hasOwnProperty(n)&&
(e[b++]=a[n])}this.Sc=!0}};q.prototype.sd=function(){this.Fp();return this.Ge};K=q;new K;Pa=function(e,n){G?Qa(e,n.Ob):Ra(e,n.sd())};Qa=function(e,n){var b,a,v,c;a=b=0;for(v=e.length;b<v;++b)c=e[b],n.has(c)||(e[a++]=c);e.length=a};Ra=function(e,n){var b,a,v,c;a=b=0;for(v=e.length;b<v;++b)c=e[b],-1===ya(n,c)&&(e[a++]=c);e.length=a};c.prototype.add=function(e){this.y=e-this.eh;this.Kg=this.Ca+this.y;this.eh=this.Kg-this.Ca-this.y;this.Ca=this.Kg};c.prototype.reset=function(){this.Ca=this.Kg=this.y=
this.eh=0};Sa=c;Ta=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};a.prototype.Cf=function(e){this.Zk=e;this.Dg=e.length/2;this.ue.length=e.length;this.fh=this.gh=-1;this.qj=0};a.prototype.Io=function(){return!this.Zk.length};a.prototype.pa=function(){for(var e=this.ue,n=e[0],b=n,a=e[1],v=a,c,d,k=1,m=this.Dg;k<m;++k)d=2*k,c=e[d],d=e[d+1],c<n&&(n=c),c>b&&(b=c),d<a&&(a=d),d>v&&(v=d);this.jj=n;this.kj=b;this.lj=a;this.ij=v};a.prototype.Hg=function(e,n,b){this.ue.length=8;this.Dg=4;var a=
this.ue;a[0]=e.left-n;a[1]=e.top-b;a[2]=e.right-n;a[3]=e.top-b;a[4]=e.right-n;a[5]=e.bottom-b;a[6]=e.left-n;a[7]=e.bottom-b;this.gh=e.right-e.left;this.fh=e.bottom-e.top;this.pa()};a.prototype.Hm=function(e,n,b){if(this.gh!==e||this.fh!==n||this.qj!==b){this.gh=e;this.fh=n;this.qj=b;var a,v,c,d,k,m=0,C=1,f=this.Zk,h=this.ue;0!==b&&(m=Math.sin(b),C=Math.cos(b));b=0;for(c=this.Dg;b<c;b++)a=2*b,v=a+1,d=f[a]*e,k=f[v]*n,h[a]=d*C-k*m,h[v]=k*C+d*m;this.pa()}};a.prototype.nb=function(e,n){var b=this.ue;if(e===
b[0]&&n===b[1])return!0;var a,v,c,d=this.Dg,k=this.jj-110,m=this.lj-101,C=this.kj+131,f=this.ij+120,h,u,p=0,x=0;for(a=0;a<d;a++)v=2*a,c=(a+1)%d*2,h=b[v],v=b[v+1],u=b[c],c=b[c+1],sa(k,m,e,n,h,v,u,c)&&p++,sa(C,f,e,n,h,v,u,c)&&x++;return 1===p%2||1===x%2};Ua=a;d.prototype.Xc=function(e,n,b){var a;a=this.cells[e];return a?(a=a[n])?a:b?(a=h(this,e,n),this.cells[e][n]=a):null:b?(a=h(this,e,n),this.cells[e]={},this.cells[e][n]=a):null};d.prototype.Wa=function(e){return Q(e/this.jh)};d.prototype.Xa=function(e){return Q(e/
this.ih)};d.prototype.update=function(e,n,b){var a,v,c,d,k;if(n)for(a=n.left,v=n.right;a<=v;++a)for(c=n.top,d=n.bottom;c<=d;++c)if(!b||!b.nb(a,c))if(k=this.Xc(a,c,!1))k.remove(e),k.vc()&&(k.na.clear(),1E3>Z.length&&Z.push(k),this.cells[a][c]=null);if(b)for(a=b.left,v=b.right;a<=v;++a)for(c=b.top,d=b.bottom;c<=d;++c)n&&n.nb(a,c)||this.Xc(a,c,!0).Sh(e)};d.prototype.al=function(e,n){var b,a,v,c,d,k;b=this.Wa(e.left);v=this.Xa(e.top);a=this.Wa(e.right);for(d=this.Xa(e.bottom);b<=a;++b)for(c=v;c<=d;++c)(k=
this.Xc(b,c,!1))&&k.dump(n)};Va=d;f.prototype.Xc=function(e,n,b){var a;a=this.cells[e];return a?(a=a[n])?a:b?(a=k(this,e,n),this.cells[e][n]=a):null:b?(a=k(this,e,n),this.cells[e]={},this.cells[e][n]=a):null};f.prototype.Wa=function(e){return Q(e/this.jh)};f.prototype.Xa=function(e){return Q(e/this.ih)};f.prototype.update=function(e,n,b){var a,v,c,d,k;if(n)for(a=n.left,v=n.right;a<=v;++a)for(c=n.top,d=n.bottom;c<=d;++c)if(!b||!b.nb(a,c))if(k=this.Xc(a,c,!1))k.remove(e),k.vc()&&(k.reset(),1E3>L.length&&
L.push(k),this.cells[a][c]=null);if(b)for(a=b.left,v=b.right;a<=v;++a)for(c=b.top,d=b.bottom;c<=d;++c)n&&n.nb(a,c)||this.Xc(a,c,!0).Sh(e)};f.prototype.al=function(e,n,b,a,v){var c,d;e=this.Wa(e);n=this.Xa(n);b=this.Wa(b);for(c=this.Xa(a);e<=b;++e)for(a=n;a<=c;++a)(d=this.Xc(e,a,!1))&&d.dump(v)};f.prototype.Oo=function(e){var n,b,a,v,c;n=e.left;a=e.top;b=e.right;for(v=e.bottom;n<=b;++n)for(e=a;e<=v;++e)if(c=this.Xc(n,e,!1))c.je=!1};Wa=f;var Z=[];b.prototype.vc=function(){return this.na.vc()};b.prototype.Sh=
function(e){this.na.add(e)};b.prototype.remove=function(e){this.na.remove(e)};b.prototype.dump=function(e){xa(e,this.na.sd())};ba=b;var L=[];u.prototype.vc=function(){if(!this.na.length)return!0;if(this.na.length>this.cc.count())return!1;this.zh();return!0};u.prototype.Sh=function(e){this.cc.contains(e)?(this.cc.remove(e),this.cc.vc()&&(this.Ke=!1)):this.na.length?(this.na[this.na.length-1].Yb()>e.Yb()&&(this.je=!1),this.na.push(e)):(this.na.push(e),this.je=!0)};u.prototype.remove=function(e){this.cc.add(e);
this.Ke=!0;30<=this.cc.count()&&this.zh()};u.prototype.zh=function(){this.Ke&&(this.cc.count()===this.na.length?this.reset():(Pa(this.na,this.cc),this.cc.clear(),this.Ke=!1))};u.prototype.mn=function(){this.je||(this.na.sort(m),this.je=!0)};u.prototype.reset=function(){this.na.length=0;this.je=!0;this.cc.clear();this.Ke=!1};u.prototype.dump=function(e){this.zh();this.mn();this.na.length&&e.push(this.na)};ca=u;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");
Xa=function(e){return 0>=e||11<=e?"source-over":A[e-1]};Ya=function(e,n,b){if(b)switch(e.Ba=b.ONE,e.za=b.ONE_MINUS_SRC_ALPHA,n){case 1:e.Ba=b.ONE;e.za=b.ONE;break;case 3:e.Ba=b.ONE;e.za=b.ZERO;break;case 4:e.Ba=b.ONE_MINUS_DST_ALPHA;e.za=b.ONE;break;case 5:e.Ba=b.DST_ALPHA;e.za=b.ZERO;break;case 6:e.Ba=b.ZERO;e.za=b.SRC_ALPHA;break;case 7:e.Ba=b.ONE_MINUS_DST_ALPHA;e.za=b.ZERO;break;case 8:e.Ba=b.ZERO;e.za=b.ONE_MINUS_SRC_ALPHA;break;case 9:e.Ba=b.DST_ALPHA;e.za=b.ONE_MINUS_SRC_ALPHA;break;case 10:e.Ba=
b.ONE_MINUS_DST_ALPHA,e.za=b.SRC_ALPHA}};Za=function(e){return Math.round(1E6*e)/1E6};$a=function(e,n){return"string"!==typeof e||"string"!==typeof n||e.length!==n.length?!1:e===n?!0:e.toLowerCase()===n.toLowerCase()};ab=function(e){e=e.target;return!e||e===document||e===window||document&&document.body&&e===document.body||$a(e.tagName,"canvas")?!0:!1}})();var Rb="undefined"!==typeof Float32Array?Float32Array:Array;function Sb(l){var r=new Rb(3);l&&(r[0]=l[0],r[1]=l[1],r[2]=l[2]);return r}
function Tb(l){var r=new Rb(16);l&&(r[0]=l[0],r[1]=l[1],r[2]=l[2],r[3]=l[3],r[4]=l[4],r[5]=l[5],r[6]=l[6],r[7]=l[7],r[8]=l[8],r[9]=l[9],r[10]=l[10],r[11]=l[11],r[12]=l[12],r[13]=l[13],r[14]=l[14],r[15]=l[15]);return r}function Ub(l,r){r[0]=l[0];r[1]=l[1];r[2]=l[2];r[3]=l[3];r[4]=l[4];r[5]=l[5];r[6]=l[6];r[7]=l[7];r[8]=l[8];r[9]=l[9];r[10]=l[10];r[11]=l[11];r[12]=l[12];r[13]=l[13];r[14]=l[14];r[15]=l[15]}
function Vb(l,r){var g=r[0],q=r[1];r=r[2];l[0]*=g;l[1]*=g;l[2]*=g;l[3]*=g;l[4]*=q;l[5]*=q;l[6]*=q;l[7]*=q;l[8]*=r;l[9]*=r;l[10]*=r;l[11]*=r}
function Wb(l,r,g,q){q||(q=Tb());var t,c,a,d,f,h,b,k,u=l[0],m=l[1];l=l[2];c=g[0];a=g[1];t=g[2];g=r[1];h=r[2];u===r[0]&&m===g&&l===h?(l=q,l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1):(g=u-r[0],h=m-r[1],b=l-r[2],k=1/Math.sqrt(g*g+h*h+b*b),g*=k,h*=k,b*=k,r=a*b-t*h,t=t*g-c*b,c=c*h-a*g,(k=Math.sqrt(r*r+t*t+c*c))?(k=1/k,r*=k,t*=k,c*=k):c=t=r=0,a=h*c-b*t,d=b*r-g*c,f=g*t-h*r,(k=Math.sqrt(a*a+d*d+f*f))?(k=1/k,a*=k,d*=k,f*=k):f=d=a=0,
q[0]=r,q[1]=a,q[2]=g,q[3]=0,q[4]=t,q[5]=d,q[6]=h,q[7]=0,q[8]=c,q[9]=f,q[10]=b,q[11]=0,q[12]=-(r*u+t*m+c*l),q[13]=-(a*u+d*m+f*l),q[14]=-(g*u+h*m+b*l),q[15]=1)}
(function(){function l(c){this.ad=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.rj=Sb([0,0,100]);this.ok=Sb([0,0,0]);this.Kl=Sb([0,1,0]);this.Vi=Sb([1,1,1]);this.Aj=!0;this.ji=Tb();this.ub=Tb();this.fk=Tb();this.qh=Tb();this.g=c;this.Tj()}function r(c,a,d){this.g=c;this.Df=a;this.name=d;this.tb=c.getAttribLocation(a,"aPos");this.gd=c.getAttribLocation(a,"aTex");this.mk=c.getUniformLocation(a,"matP");this.vg=c.getUniformLocation(a,"matMV");this.pe=
c.getUniformLocation(a,"opacity");this.nk=c.getUniformLocation(a,"samplerFront");this.rf=c.getUniformLocation(a,"samplerBack");this.Nd=c.getUniformLocation(a,"destStart");this.Md=c.getUniformLocation(a,"destEnd");this.hi=c.getUniformLocation(a,"seconds");this.gi=c.getUniformLocation(a,"pixelWidth");this.fi=c.getUniformLocation(a,"pixelHeight");this.qf=c.getUniformLocation(a,"layerScale");this.pf=c.getUniformLocation(a,"layerAngle");this.tf=c.getUniformLocation(a,"viewOrigin");this.sf=c.getUniformLocation(a,
"scrollPos");this.yo=!!(this.gi||this.fi||this.hi||this.rf||this.Nd||this.Md||this.qf||this.pf||this.tf||this.sf);this.wk=this.xk=-999;this.xg=1;this.sk=this.rk=0;this.uk=this.qk=this.pk=1;this.zk=this.yk=this.Bk=this.Ak=this.tk=0;this.bi=[];this.vk=Tb();this.pe&&c.uniform1f(this.pe,1);this.nk&&c.uniform1i(this.nk,0);this.rf&&c.uniform1i(this.rf,1);this.Nd&&c.uniform2f(this.Nd,0,0);this.Md&&c.uniform2f(this.Md,1,1);this.qf&&c.uniform1f(this.qf,1);this.pf&&c.uniform1f(this.pf,0);this.tf&&c.uniform2f(this.tf,
0,0);this.sf&&c.uniform2f(this.sf,0,0);this.Ed=!1}function g(c,a){this.type=c;this.n=a;this.g=a.g;this.Zb=this.yb=this.Pk=0;this.J=this.Ab=null;this.ll=[]}l.prototype.Tj=function(){var c=this.g,a;this.gk=1;this.Id=this.ed=null;this.Sf=1;c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.enable(c.BLEND);c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);c.disable(c.CULL_FACE);c.disable(c.DEPTH_TEST);this.hk=c.ONE;this.ek=c.ONE_MINUS_SRC_ALPHA;this.Sg=new Float32Array(16E3);this.Lg=new Float32Array(16E3);this.Uk=
new Float32Array(32E3);this.qi=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.qi);c.bufferData(c.ARRAY_BUFFER,this.Uk.byteLength,c.DYNAMIC_DRAW);this.Lf=Array(4);this.Hf=Array(4);for(a=0;4>a;a++)this.Lf[a]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.Lf[a]),c.bufferData(c.ARRAY_BUFFER,this.Sg.byteLength,c.DYNAMIC_DRAW),this.Hf[a]=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.Hf[a]),c.bufferData(c.ARRAY_BUFFER,this.Lg.byteLength,c.DYNAMIC_DRAW);this.pc=0;this.Ao=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,
this.Ao);for(var d=new Uint16Array(12E3),f=a=0;12E3>a;)d[a++]=f,d[a++]=f+1,d[a++]=f+2,d[a++]=f,d[a++]=f+2,d[a++]=f+3,f+=4;c.bufferData(c.ELEMENT_ARRAY_BUFFER,d,c.STATIC_DRAW);this.ri=this.jc=0;this.ka=[];a=this.ph({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",
"<default>");this.ka.push(a);a=this.ph({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ka.push(a);for(var h in Xb)Xb.hasOwnProperty(h)&&
this.ka.push(this.ph(Xb[h],"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",h));c.activeTexture(c.TEXTURE0);c.bindTexture(c.TEXTURE_2D,null);this.Rc=[];this.nc=0;this.Na=!1;this.wj=this.kf=-1;this.Ue=null;this.Rn=c.createFramebuffer();this.dl=null;this.rd=Sb([0,0,0]);this.Ck=c.getParameter(c.ALIASED_POINT_SIZE_RANGE)[1];
2048<this.Ck&&(this.Ck=2048);this.gc(0)};r.prototype.Ri=function(c){var a=this.vk;if(a[0]!==c[0]||a[1]!==c[1]||a[2]!==c[2]||a[3]!==c[3]||a[4]!==c[4]||a[5]!==c[5]||a[6]!==c[6]||a[7]!==c[7]||a[8]!==c[8]||a[9]!==c[9]||a[10]!==c[10]||a[11]!==c[11]||a[12]!==c[12]||a[13]!==c[13]||a[14]!==c[14]||a[15]!==c[15])Ub(c,this.vk),this.g.uniformMatrix4fv(this.vg,!1,c)};l.prototype.ph=function(c,a,d){var f=this.g,h=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(h,c.src);f.compileShader(h);if(!f.getShaderParameter(h,
f.COMPILE_STATUS))return f.deleteShader(h),null;var b=f.createShader(f.VERTEX_SHADER);f.shaderSource(b,a);f.compileShader(b);if(!f.getShaderParameter(b,f.COMPILE_STATUS))return f.deleteShader(h),f.deleteShader(b),null;a=f.createProgram();f.attachShader(a,h);f.attachShader(a,b);f.linkProgram(a);if(!f.getProgramParameter(a,f.LINK_STATUS))return f.deleteShader(h),f.deleteShader(b),f.deleteProgram(a),null;f.useProgram(a);f.deleteShader(h);f.deleteShader(b);d=new r(f,a,d);d.xh=c.xh||0;d.yh=c.yh||0;d.vj=
!!c.vj;d.dj=!!c.dj;d.A=c.A||[];c=0;for(h=d.A.length;c<h;c++)d.A[c][1]=f.getUniformLocation(a,d.A[c][0]),d.bi.push(0),f.uniform1f(d.A[c][1],0);return d};l.prototype.Jh=function(c){var a,d;a=0;for(d=this.ka.length;a<d;a++)if(this.ka[a].name===c)return a;return-1};l.prototype.Yk=function(c,a,d){var f=this.ub,h=this.ji,b=[0,0,0,0,0,0,0,0];b[0]=f[0]*c+f[4]*a+f[12];b[1]=f[1]*c+f[5]*a+f[13];b[2]=f[2]*c+f[6]*a+f[14];b[3]=f[3]*c+f[7]*a+f[15];b[4]=h[0]*b[0]+h[4]*b[1]+h[8]*b[2]+h[12]*b[3];b[5]=h[1]*b[0]+h[5]*
b[1]+h[9]*b[2]+h[13]*b[3];b[6]=h[2]*b[0]+h[6]*b[1]+h[10]*b[2]+h[14]*b[3];b[7]=-b[2];0!==b[7]&&(b[7]=1/b[7],b[4]*=b[7],b[5]*=b[7],b[6]*=b[7],d[0]=(.5*b[4]+.5)*this.width,d[1]=(.5*b[5]+.5)*this.height)};l.prototype.Ae=function(c,a,d){if(this.width!==c||this.height!==a||d){this.Vc();this.width=c;this.height=a;this.g.viewport(0,0,c,a);a=c/a;var f=this.ji,h;h=1*Math.tan(45*Math.PI/360);a*=h;c=-a;d=-h;f||(f=Tb());var b=a-c,k=h-d;f[0]=2/b;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/k;f[6]=0;f[7]=0;f[8]=(a+c)/b;f[9]=
(h+d)/k;f[10]=-1001/999;f[11]=-1;f[12]=0;f[13]=0;f[14]=-2E3/999;f[15]=0;Wb(this.rj,this.ok,this.Kl,this.ub);c=[0,0];a=[0,0];this.Yk(0,0,c);this.Yk(1,1,a);this.Vi[0]=1/(a[0]-c[0]);this.Vi[1]=-1/(a[1]-c[1]);c=0;for(a=this.ka.length;c<a;c++)d=this.ka[c],d.Ed=!1,d.mk&&(this.g.useProgram(d.Df),this.g.uniformMatrix4fv(d.mk,!1,this.ji));this.g.useProgram(this.ka[this.kf].Df);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE1);this.g.bindTexture(this.g.TEXTURE_2D,null);this.g.activeTexture(this.g.TEXTURE0);
this.Id=this.ed=null}};l.prototype.ec=function(){Wb(this.rj,this.ok,this.Kl,this.ub);Vb(this.ub,this.Vi)};l.prototype.translate=function(c,a){if(0!==c||0!==a){this.rd[0]=c;this.rd[1]=a;this.rd[2]=0;var d=this.ub,f=this.rd,h=f[0],b=f[1],f=f[2];d[12]=d[0]*h+d[4]*b+d[8]*f+d[12];d[13]=d[1]*h+d[5]*b+d[9]*f+d[13];d[14]=d[2]*h+d[6]*b+d[10]*f+d[14];d[15]=d[3]*h+d[7]*b+d[11]*f+d[15]}};l.prototype.scale=function(c,a){if(1!==c||1!==a)this.rd[0]=c,this.rd[1]=a,this.rd[2]=1,Vb(this.ub,this.rd)};l.prototype.Di=
function(c){if(0!==c){var a=this.ub,d,f=Math.sin(c);c=Math.cos(c);var h=a[0],b=a[1],k=a[2],u=a[3],m=a[4],p=a[5],w=a[6],n=a[7];d?a!==d&&(d[8]=a[8],d[9]=a[9],d[10]=a[10],d[11]=a[11],d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[0]=h*c+m*f;d[1]=b*c+p*f;d[2]=k*c+w*f;d[3]=u*c+n*f;d[4]=h*-f+m*c;d[5]=b*-f+p*c;d[6]=k*-f+w*c;d[7]=u*-f+n*c}};l.prototype.ic=function(){for(var c=!1,a=0;16>a;a++)if(this.fk[a]!==this.ub[a]){c=!0;break}c&&(c=this.Nb(),c.type=5,c.J?Ub(this.ub,c.J):c.J=Tb(this.ub),Ub(this.ub,
this.fk),this.Na=!1)};g.prototype.an=function(){this.g.bindTexture(this.g.TEXTURE_2D,this.Ab)};g.prototype.bn=function(){var c=this.g;c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,this.Ab);c.activeTexture(c.TEXTURE0)};g.prototype.Ym=function(){var c=this.Pk,a=this.n;a.Sf=c;a=a.Ue;a.pe&&a.xg!==c&&(a.xg=c,this.g.uniform1f(a.pe,c))};g.prototype.Vm=function(){this.g.drawElements(this.g.TRIANGLES,this.Zb,this.g.UNSIGNED_SHORT,2*this.yb)};g.prototype.Xm=function(){this.g.blendFunc(this.yb,this.Zb)};
g.prototype.cn=function(){var c,a,d,f=this.n.ka,h=this.n.wj;c=0;for(a=f.length;c<a;c++)d=f[c],c===h&&d.vg?(d.Ri(this.J),d.Ed=!0):d.Ed=!1;Ub(this.J,this.n.qh)};g.prototype.Wm=function(){var c=this.g,a=this.n;this.Ab?(a.Id===this.Ab&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,null),a.Id=null,c.activeTexture(c.TEXTURE0)),c.bindFramebuffer(c.FRAMEBUFFER,a.Rn),c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,this.Ab,0)):(c.framebufferTexture2D(c.FRAMEBUFFER,c.COLOR_ATTACHMENT0,
c.TEXTURE_2D,null,0),c.bindFramebuffer(c.FRAMEBUFFER,null))};g.prototype.Tm=function(){var c=this.g;0===this.yb?(c.clearColor(this.J[0],this.J[1],this.J[2],this.J[3]),c.clear(c.COLOR_BUFFER_BIT)):(c.enable(c.SCISSOR_TEST),c.scissor(this.J[0],this.J[1],this.J[2],this.J[3]),c.clearColor(0,0,0,0),c.clear(this.g.COLOR_BUFFER_BIT),c.disable(c.SCISSOR_TEST))};g.prototype.Um=function(){var c=this.g,a=this.n,d=a.ka[1];c.useProgram(d.Df);!d.Ed&&d.vg&&(d.Ri(a.qh),d.Ed=!0);c.enableVertexAttribArray(d.tb);c.bindBuffer(c.ARRAY_BUFFER,
a.qi);c.vertexAttribPointer(d.tb,4,c.FLOAT,!1,0,0);c.drawArrays(c.POINTS,this.yb/4,this.Zb);d=a.Ue;c.useProgram(d.Df);0<=d.tb&&(c.enableVertexAttribArray(d.tb),c.bindBuffer(c.ARRAY_BUFFER,a.Lf[a.pc]),c.vertexAttribPointer(d.tb,2,c.FLOAT,!1,0,0));0<=d.gd&&(c.enableVertexAttribArray(d.gd),c.bindBuffer(c.ARRAY_BUFFER,a.Hf[a.pc]),c.vertexAttribPointer(d.gd,2,c.FLOAT,!1,0,0))};g.prototype.Zm=function(){var c=this.g,a=this.n,d=a.ka[this.yb];a.wj=this.yb;a.Ue=d;c.useProgram(d.Df);!d.Ed&&d.vg&&(d.Ri(a.qh),
d.Ed=!0);d.pe&&d.xg!==a.Sf&&(d.xg=a.Sf,c.uniform1f(d.pe,a.Sf));0<=d.tb&&(c.enableVertexAttribArray(d.tb),c.bindBuffer(c.ARRAY_BUFFER,a.Lf[a.pc]),c.vertexAttribPointer(d.tb,2,c.FLOAT,!1,0,0));0<=d.gd&&(c.enableVertexAttribArray(d.gd),c.bindBuffer(c.ARRAY_BUFFER,a.Hf[a.pc]),c.vertexAttribPointer(d.gd,2,c.FLOAT,!1,0,0))};g.prototype.$m=function(){var c,a,d=this.n.Ue,f=this.g;c=this.J;d.rf&&this.n.Id!==this.Ab&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,this.Ab),this.n.Id=this.Ab,f.activeTexture(f.TEXTURE0));
var h=c[0];d.gi&&h!==d.xk&&(d.xk=h,f.uniform1f(d.gi,h));h=c[1];d.fi&&h!==d.wk&&(d.wk=h,f.uniform1f(d.fi,h));h=c[2];a=c[3];!d.Nd||h===d.rk&&a===d.sk||(d.rk=h,d.sk=a,f.uniform2f(d.Nd,h,a));h=c[4];a=c[5];!d.Md||h===d.pk&&a===d.qk||(d.pk=h,d.qk=h,f.uniform2f(d.Md,h,a));h=c[6];d.qf&&h!==d.uk&&(d.uk=h,f.uniform1f(d.qf,h));h=c[7];d.pf&&h!==d.tk&&(d.tk=h,f.uniform1f(d.pf,h));h=c[8];a=c[9];!d.tf||h===d.Ak&&a===d.Bk||(d.Ak=h,d.Bk=a,f.uniform2f(d.tf,h,a));h=c[10];a=c[11];!d.sf||h===d.yk&&a===d.zk||(d.yk=h,d.zk=
a,f.uniform2f(d.sf,h,a));d.hi&&f.uniform1f(d.hi,Oa()/1E3);if(d.A.length)for(c=0,a=d.A.length;c<a;c++)h=this.ll[c],h!==d.bi[c]&&(d.bi[c]=h,f.uniform1f(d.A[c][1],h))};l.prototype.Nb=function(){this.nc===this.Rc.length&&this.Rc.push(new g(0,this));return this.Rc[this.nc++]};l.prototype.Vc=function(){if(0!==this.nc&&!this.g.isContextLost()){var c=this.g;0<this.ri&&(c.bindBuffer(c.ARRAY_BUFFER,this.qi),c.bufferSubData(c.ARRAY_BUFFER,0,this.Uk.subarray(0,this.ri)),a&&0<=a.tb&&"<point>"===a.name&&c.vertexAttribPointer(a.tb,
4,c.FLOAT,!1,0,0));if(0<this.jc){var a=this.Ue;c.bindBuffer(c.ARRAY_BUFFER,this.Lf[this.pc]);c.bufferSubData(c.ARRAY_BUFFER,0,this.Sg.subarray(0,this.jc));a&&0<=a.tb&&"<point>"!==a.name&&c.vertexAttribPointer(a.tb,2,c.FLOAT,!1,0,0);c.bindBuffer(c.ARRAY_BUFFER,this.Hf[this.pc]);c.bufferSubData(c.ARRAY_BUFFER,0,this.Lg.subarray(0,this.jc));a&&0<=a.gd&&"<point>"!==a.name&&c.vertexAttribPointer(a.gd,2,c.FLOAT,!1,0,0)}for(var d,c=0,a=this.nc;c<a;c++)switch(d=this.Rc[c],d.type){case 1:d.Vm();break;case 2:d.an();
break;case 3:d.Ym();break;case 4:d.Xm();break;case 5:d.cn();break;case 6:d.Wm();break;case 7:d.Tm();break;case 8:d.Um();break;case 9:d.Zm();break;case 10:d.$m();break;case 11:d.bn()}this.ri=this.jc=this.nc=0;this.Na=!1;this.pc++;4<=this.pc&&(this.pc=0)}};l.prototype.ye=function(c){if(c!==this.gk){var a=this.Nb();a.type=3;this.gk=a.Pk=c;this.Na=!1}};l.prototype.eb=function(c){if(c!==this.ed){var a=this.Nb();a.type=2;this.ed=a.Ab=c;this.Na=!1}};l.prototype.od=function(c,a){if(c!==this.hk||a!==this.ek){var d=
this.Nb();d.type=4;d.yb=c;d.Zb=a;this.hk=c;this.ek=a;this.Na=!1}};l.prototype.il=function(){this.od(this.g.ONE,this.g.ONE_MINUS_SRC_ALPHA)};l.prototype.Eg=function(c,a,d,f,h,b,k,u){15992<=this.jc&&this.Vc();var m=this.jc,p=this.Sg,w=this.Lg;if(this.Na)this.Rc[this.nc-1].Zb+=6;else{var n=this.Nb();n.type=1;n.yb=m/4*3;n.Zb=6;this.Na=!0}p[m]=c;w[m++]=0;p[m]=a;w[m++]=0;p[m]=d;w[m++]=1;p[m]=f;w[m++]=0;p[m]=h;w[m++]=1;p[m]=b;w[m++]=1;p[m]=k;w[m++]=0;p[m]=u;w[m++]=1;this.jc=m};l.prototype.md=function(c,
a,d,f,h,b,k,u,m){15992<=this.jc&&this.Vc();var p=this.jc,w=this.Sg,n=this.Lg;if(this.Na)this.Rc[this.nc-1].Zb+=6;else{var e=this.Nb();e.type=1;e.yb=p/4*3;e.Zb=6;this.Na=!0}var e=m.left,v=m.top,C=m.right;m=m.bottom;w[p]=c;n[p++]=e;w[p]=a;n[p++]=v;w[p]=d;n[p++]=C;w[p]=f;n[p++]=v;w[p]=h;n[p++]=C;w[p]=b;n[p++]=m;w[p]=k;n[p++]=e;w[p]=u;n[p++]=m;this.jc=p};l.prototype.gc=function(c){if(this.kf!==c){if(!this.ka[c]){if(0===this.kf)return;c=0}var a=this.Nb();a.type=9;this.kf=a.yb=c;this.Na=!1}};l.prototype.yf=
function(c){c=this.ka[c];return!(!c.Nd&&!c.Md)};l.prototype.si=function(c){c=this.ka[c];return!!(c.Nd||c.Md||c.vj)};l.prototype.ip=function(c){c=this.ka[c];return 0!==c.xh||0!==c.yh};l.prototype.eo=function(c){return this.ka[c].xh};l.prototype.fo=function(c){return this.ka[c].yh};l.prototype.ho=function(c,a){return this.ka[c].A[a][2]};l.prototype.Cg=function(c){return this.ka[c].dj};l.prototype.ze=function(c,a,d,f,h,b,k,u,m,p,w,n,e,v){var C=this.ka[this.kf],G,D;if(C.yo||v.length){G=this.Nb();G.type=
10;G.J?Ub(this.ub,G.J):G.J=Tb();D=G.J;D[0]=a;D[1]=d;D[2]=f;D[3]=h;D[4]=b;D[5]=k;D[6]=u;D[7]=m;D[8]=p;D[9]=w;D[10]=n;D[11]=e;C.rf?G.Ab=c:G.Ab=null;if(v.length)for(d=G.ll,d.length=v.length,c=0,a=v.length;c<a;c++)d[c]=v[c];this.Na=!1}};l.prototype.clear=function(c,a,d,f){var h=this.Nb();h.type=7;h.yb=0;h.J||(h.J=Tb());h.J[0]=c;h.J[1]=a;h.J[2]=d;h.J[3]=f;this.Na=!1};l.prototype.clearRect=function(c,a,d,f){if(!(0>d||0>f)){var h=this.Nb();h.type=7;h.yb=1;h.J||(h.J=Tb());h.J[0]=c;h.J[1]=a;h.J[2]=d;h.J[3]=
f;this.Na=!1}};l.prototype.hp=function(){this.Vc();this.g.flush()};var q=[],t={};l.prototype.Km=function(){q.length=0;t={}};l.prototype.lk=function(c,a,d){var f;f=!1;a=!!a;var h=c.src+","+f+","+a+(f?",undefined":""),b=null;if("undefined"!==typeof c.src&&t.hasOwnProperty(h))return b=t[h],b.Mf++,b;this.Vc();var k=this.g,u=ha(c.width)&&ha(c.height),b=k.createTexture();k.bindTexture(k.TEXTURE_2D,b);k.pixelStorei(k.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=k.RGBA,p=k.RGBA,w=k.UNSIGNED_BYTE;if(d&&!this.ad)switch(d){case 1:p=
m=k.RGB;break;case 2:w=k.UNSIGNED_SHORT_4_4_4_4;break;case 3:w=k.UNSIGNED_SHORT_5_5_5_1;break;case 4:p=m=k.RGB,w=k.UNSIGNED_SHORT_5_6_5}if(!u&&f){d=document.createElement("canvas");d.width=ia(c.width);d.height=ia(c.height);var n=d.getContext("2d");n.webkitImageSmoothingEnabled=a;n.mozImageSmoothingEnabled=a;n.msImageSmoothingEnabled=a;n.imageSmoothingEnabled=a;n.drawImage(c,0,0,c.width,c.height,0,0,d.width,d.height);k.texImage2D(k.TEXTURE_2D,0,m,p,w,d)}else k.texImage2D(k.TEXTURE_2D,0,m,p,w,c);f?
(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));a?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.LINEAR),u&&this.Aj?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR_MIPMAP_LINEAR),k.generateMipmap(k.TEXTURE_2D)):k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.LINEAR)):(k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST));k.bindTexture(k.TEXTURE_2D,null);this.ed=null;b.Pe=c.width;b.Oe=c.height;b.Mf=1;b.pj=h;q.push(b);return t[h]=b};l.prototype.oc=function(c,a,d,f){this.Vc();var h=this.g;this.ad&&(f=!1);var b=h.createTexture();h.bindTexture(h.TEXTURE_2D,b);h.texImage2D(h.TEXTURE_2D,0,h.RGBA,c,a,0,h.RGBA,f?h.UNSIGNED_SHORT_4_4_4_4:h.UNSIGNED_BYTE,null);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,d?h.LINEAR:h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,d?h.LINEAR:h.NEAREST);h.bindTexture(h.TEXTURE_2D,null);this.ed=null;b.Pe=c;b.Oe=a;q.push(b);return b};l.prototype.Jp=function(c,a,d){this.Vc();var f=this.g;this.ad&&(d=!1);f.bindTexture(f.TEXTURE_2D,a);f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,d?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,c)}catch(h){console&&
console.error&&console.error("Error updating WebGL texture: ",h)}f.bindTexture(f.TEXTURE_2D,null);this.ed=null};l.prototype.deleteTexture=function(c){c&&("undefined"!==typeof c.Mf&&1<c.Mf?c.Mf--:(this.Vc(),c===this.ed&&(this.g.bindTexture(this.g.TEXTURE_2D,null),this.ed=null),c===this.Id&&(this.g.activeTexture(this.g.TEXTURE1),this.g.bindTexture(this.g.TEXTURE_2D,null),this.g.activeTexture(this.g.TEXTURE0),this.Id=null),Aa(q,c),"undefined"!==typeof c.pj&&delete t[c.pj],this.g.deleteTexture(c)))};
l.prototype.fc=function(c){if(c!==this.dl){var a=this.Nb();a.type=6;this.dl=a.Ab=c;this.Na=!1}};bb=l})();
(function(){function l(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function r(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function g(n){if(n&&(n.getContext||n.dc)&&!n.c2runtime){n.c2runtime=this;var e=this;this.Zc=(this.hg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.$c=!!n.dc;this.Co="undefined"!==typeof window.AppMobi||this.$c;this.rb=!!window.c2cocoonjs;this.sb=!!window.c2ejecta;this.rb&&(CocoonJS.App.onSuspended.addEventListener(function(){e.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){e.setSuspended(!1)}));this.sb&&(document.addEventListener("pagehide",function(){e.setSuspended(!0)}),document.addEventListener("pageshow",
function(){e.setSuspended(!1)}),document.addEventListener("resize",function(){e.setSize(window.innerWidth,window.innerHeight)}));this.ra=this.$c||this.rb||this.sb;this.ad=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.$j=/tizen/i.test(navigator.userAgent);this.Yj=/android/i.test(navigator.userAgent)&&!this.$j&&!this.ad;this.ai=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.ad;this.dk=/ipad/i.test(navigator.userAgent);this.ck=this.ai||this.dk||this.sb;this.Jo=this.ai&&/os\s6/i.test(navigator.userAgent);this.gg=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.ad;this.Xj=/amazonwebappplatform/i.test(navigator.userAgent);this.Eo=/firefox/i.test(navigator.userAgent);this.Go=/safari/i.test(navigator.userAgent)&&!this.gg&&!this.ad;this.cd="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||
/nwjs/i.test(navigator.userAgent);this.ak=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Ho=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.he=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.ig=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Yh=this.ak||this.Ho||this.ig;this.Do=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Zj=this.Yj&&!this.gg&&
!this.hg&&!this.Eo&&!this.Xj&&!this.ra;this.devicePixelRatio=1;this.xc=this.Zc||this.hg||this.Co||this.rb||this.Yj||this.ck||this.he||this.ig||this.Do||this.$j||this.sb;this.xc||(this.xc=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.cd||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.cd=!0);this.canvas=n;this.sj=document.getElementById("c2canvasdiv");
this.K=this.n=this.g=null;this.Ch="";this.Yf=!1;this.Mk=this.Nk=0;this.canvas.oncontextmenu=function(e){e.preventDefault&&e.preventDefault();return!1};this.canvas.onselectstart=function(e){e.preventDefault&&e.preventDefault();return!1};this.$c&&(window.c2runtime=this);this.cd&&(window.ondragover=function(e){e.preventDefault();return!1},window.ondrop=function(e){e.preventDefault();return!1},require("nw.gui").App.clearCache());this.Zj&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=n.width;this.height=n.height;this.C=this.width;this.B=this.height;this.Qf=this.width;this.Pf=this.height;this.mf=window.innerWidth;this.lf=window.innerHeight;this.Tn=!1;this.L=!0;this.hf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.j=[];this.Z=[];this.di={};this.Mb=[];this.wh={};this.sc=[];this.Ie=[];this.Pg=[];this.Am=[];this.Bm=[];this.zd={};this.Vh=this.Yc=!1;this.wc=0;this.Xh=!1;this.Ub=[];this.yc=this.Aa=this.sg=this.Ii="";this.Ff=
this.ol=!1;this.oh=this.uf=this.Uc=this.be=0;this.If=1;this.me=new Sa;this.Tg=new Sa;this.zg=this.$f=this.Wf=this.Gc=this.Kd=this.Bh=this.ng=0;this.mh=null;this.yj=[];this.vh=[];this.Vf=-1;this.ii=[[]];this.Oi=this.wg=0;this.vi(null);this.Xe=this.Ik=this.wf=0;this.Gf=[];this.Li=this.xi=-1;this.lg=!0;this.oe=0;this.gf=!1;this.xp=0;this.Ne=null;this.bd=this.Lh=!1;this.Kk=new K;this.li=new K;this.Lk=new K;this.cl=[];new Ua([]);new Ua([]);this.$d=[];this.eg={};this.ae={};this.Zd={};this.He={};this.mj=
{};this.kk=this.rg=this.Qa=this.cb=this.jk=this.qg=this.M=null;this.Fe=this.Zh=!1;this.Dh=[null,null];this.Dd=0;this.Bc={};this.Ef=this.Ld=null;this.pl="";this.yg=[];this.kp()}}function q(n){n.target.result.createObjectStore("saves",{keyPath:"slot"})}function t(n,e,b,a){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=q;c.onerror=a;c.onsuccess=function(c){c=c.target.result;c.onerror=a;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:n,data:e}).onsuccess=b}}function c(n,e,
b){var a=indexedDB.open("_C2SaveStates");a.onupgradeneeded=q;a.onerror=b;a.onsuccess=function(a){a=a.target.result;a.onerror=b;var c=a.transaction(["saves"]).objectStore("saves").get(n);c.onsuccess=function(){c.result?e(c.result.data):e(null)}}}function a(){M("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function d(n){var e,b={};for(e in n)!n.hasOwnProperty(e)||
n[e]instanceof K||n[e]&&"undefined"!==typeof n[e].Uq||(b[e]=n[e]);return b}g.prototype.kp=function(){var n=this,e;this.he?e=new ActiveXObject("Microsoft.XMLHTTP"):e=new XMLHttpRequest;var b="data.js";if(this.ak||this.he||this.ig)b="data.json";e.open("GET",b,!0);var a=!1;if(!this.ra&&"response"in e&&"responseType"in e)try{e.responseType="json",a="json"===e.responseType}catch(c){a=!1}if(!a&&"responseType"in e)try{e.responseType="text"}catch(d){}if("overrideMimeType"in e)try{e.overrideMimeType("application/json; charset=utf-8")}catch(k){}this.he?
e.onreadystatechange=function(){4===e.readyState&&n.ug(JSON.parse(e.responseText))}:(e.onload=function(){if(a)n.ug(e.response);else if(n.sb){var b=e.responseText,b=b.substr(b.indexOf("{"));n.ug(JSON.parse(b))}else n.ug(JSON.parse(e.responseText))},e.onerror=function(e){da("Error requesting "+b+":");da(e)});e.send()};g.prototype.Bo=function(){var n=this,e,b,a,c,d,k,m,f,h;this.devicePixelRatio=(this.ge=(!this.ra||this.sb)&&this.Hp&&!this.Zj)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||
window.msDevicePixelRatio||1:1;this.wa();b=!(!this.Tn&&(!this.Yg||this.cd||this.Yh||this.he||this.hg||this.Zc||this.Xj));0<this.La&&this.setSize(l(),r(),!0);try{this.kn&&(this.rb||this.sb||!this.ra)&&(e={alpha:b,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.g=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e))}catch(u){}if(this.g){this.ra||(this.ta=document.createElement("canvas"),jQuery(this.ta).appendTo(this.canvas.parentNode),this.ta.oncontextmenu=function(){return!1},
this.ta.onselectstart=function(){return!1},this.ta.width=this.Qf,this.ta.height=this.Pf,jQuery(this.ta).css({width:this.Qf+"px",height:this.Pf+"px"}),this.Wk(),this.pi=this.ta.getContext("2d"));this.n=new bb(this.g,this.xc);this.n.Ae(this.canvas.width,this.canvas.height);this.n.Aj=0!==this.dn;this.K=null;this.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault();n.So();M("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",
function(){n.n.Tj();n.n.Ae(n.n.width,n.n.height,!0);n.cb=null;n.Qa=null;n.Dh[0]=null;n.Dh[1]=null;n.To();n.L=!0;M("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);e=0;for(b=this.j.length;e<b;e++)for(d=this.j[e],a=0,c=d.q.length;a<c;a++)m=d.q[a],m.ua=this.n.Jh(m.id),this.Fe=this.Fe||this.n.yf(m.ua);e=0;for(b=this.Mb.length;e<b;e++){f=this.Mb[e];a=0;for(c=f.q.length;a<c;a++)m=f.q[a],m.ua=this.n.Jh(m.id);a=0;for(c=f.u.length;a<c;a++)for(h=f.u[a],d=0,k=h.q.length;d<k;d++)m=h.q[d],
m.ua=this.n.Jh(m.id),this.Fe=this.Fe||this.n.yf(m.ua)}}else{if(0<this.La&&this.$c){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.K=AppMobi.canvas.getContext("2d");try{this.K.samplingMode=this.I?"smooth":"sharp",this.K.globalScale=1,this.K.HTML5CompatibilityMode=!0,this.K.imageSmoothingEnabled=this.I}catch(p){}0!==this.width&&0!==this.height&&(this.K.width=this.width,this.K.height=this.height)}this.K||(this.rb?(e={antialias:!!this.I,alpha:b},
this.K=this.canvas.getContext("2d",e)):(e={alpha:b},this.K=this.canvas.getContext("2d",e)),this.K.webkitImageSmoothingEnabled=this.I,this.K.mozImageSmoothingEnabled=this.I,this.K.msImageSmoothingEnabled=this.I,this.K.imageSmoothingEnabled=this.I);this.pi=this.ta=null}this.zl=function(e){n.Td(!1,e)};window==window.top||this.ra||this.Yh||this.he||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==
typeof cr_is_preview&&(this.rb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(M("Reloading for continuous preview"),this.sg="__c2_continuouspreview",this.Ff=!0),this.bp&&!this.xc&&(jQuery(window).focus(function(){n.setSuspended(!1)}),jQuery(window).blur(function(){n.setSuspended(!0)})));this.ra||(e=function(e){if(ab(e)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(n){}},
window.navigator.pointerEnabled?document.addEventListener("pointerdown",e):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",e):document.addEventListener("touchstart",e),document.addEventListener("mousedown",e));0===this.La&&this.ge&&1<this.devicePixelRatio&&this.setSize(this.fa,this.ea,!0);this.Fl();this.vo();this.go();this.W={}};g.prototype.setSize=function(n,e,b){var a=0,c=0,d=0,k=0,k=0,m=this.Jo&&this.Go&&!navigator.standalone&&!this.ra&&!this.Zc;m&&(e+=60);if(this.mf!==
n||this.lf!==e||b){this.mf=n;this.lf=e;var f=this.La,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.gf)&&!this.Zc;if(h||0!==this.La||b)h&&0<this.Dd&&(f=this.Dd),b=this.devicePixelRatio,4<=f?(d=this.fa/this.ea,n/e>d?(d*=e,5===f?(k=d*b/this.fa,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),d=this.fa*k/b,k=this.ea*k/b,a=(n-d)/2,c=(e-k)/2,n=d,e=k):(a=(n-d)/2,n=d)):(k=n/d,5===f?(k=k*b/this.ea,1<k?k=Math.floor(k):1>k&&(k=1/Math.ceil(1/k)),
d=this.fa*k/b,k=this.ea*k/b,a=(n-d)/2,c=(e-k)/2,n=d):c=(e-k)/2,e=k),h&&!this.cd&&(c=a=0)):this.cd&&this.gf&&0===this.Gj&&(a=Math.floor((n-this.fa)/2),c=Math.floor((e-this.ea)/2),n=this.fa,e=this.ea),2>f&&(this.Me=b),this.ge&&this.dk&&1<b&&(1024<=n&&(n=1023),1024<=e&&(e=1023)),this.Qf=Math.round(n),this.Pf=Math.round(e),this.width=Math.round(n*b),this.height=Math.round(e*b),this.L=!0,this.Pl?(this.C=this.width,this.B=this.height,this.qb=!0):this.width<this.fa&&this.height<this.ea||1===f?(this.C=this.width,
this.B=this.height,this.qb=!0):(this.C=this.fa,this.B=this.ea,this.qb=!1,2===f?(d=this.fa/this.ea,f=this.mf/this.lf,f<d?this.C=this.B*f:f>d&&(this.B=this.C/f)):3===f&&(d=this.fa/this.ea,f=this.mf/this.lf,f>d?this.C=this.B*f:f<d&&(this.B=this.C/f))),this.sj&&!this.ra&&(jQuery(this.sj).css({width:Math.round(n)+"px",height:Math.round(e)+"px","margin-left":Math.floor(a)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(n)+"px",height:Math.round(e)+
"px"})),this.canvas&&(this.canvas.width=Math.round(n*b),this.canvas.height=Math.round(e*b),this.sb?(this.canvas.style.left=Math.floor(a)+"px",this.canvas.style.top=Math.floor(c)+"px",this.canvas.style.width=Math.round(n)+"px",this.canvas.style.height=Math.round(e)+"px"):this.ge&&!this.ra&&jQuery(this.canvas).css({width:Math.round(n)+"px",height:Math.round(e)+"px"})),this.ta&&(this.ta.width=Math.round(n),this.ta.height=Math.round(e),jQuery(this.ta).css({width:Math.round(n)+"px",height:Math.round(e)+
"px"})),this.n&&this.n.Ae(Math.round(n*b),Math.round(e*b)),this.$c&&this.K&&(this.K.width=Math.round(n),this.K.height=Math.round(e)),this.K&&(this.K.webkitImageSmoothingEnabled=this.I,this.K.mozImageSmoothingEnabled=this.I,this.K.msImageSmoothingEnabled=this.I,this.K.imageSmoothingEnabled=this.I),this.Fl(),this.ra||!m&&!this.ai||window.setTimeout(function(){window.scrollTo(0,1)},100)}};g.prototype.Fl=function(){if(this.Dm&&0!==this.oi){var b="portrait";2===this.oi&&(b="landscape");screen.orientation&&
screen.orientation.lock?screen.orientation.lock(b):screen.lockOrientation?screen.lockOrientation(b):screen.webkitLockOrientation?screen.webkitLockOrientation(b):screen.mozLockOrientation?screen.mozLockOrientation(b):screen.msLockOrientation&&screen.msLockOrientation(b)}};g.prototype.So=function(){this.n.Km();this.Zh=!0;var b,e,a;b=0;for(e=this.j.length;b<e;b++)a=this.j[b],a.ni&&a.ni()};g.prototype.To=function(){this.Zh=!1;var b,e,a;b=0;for(e=this.j.length;b<e;b++)a=this.j[b],a.Ok&&a.Ok()};g.prototype.Wk=
function(){if(!this.ra){var b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.gf)&&!this.Zc?jQuery(this.canvas).offset():jQuery(this.canvas).position();b.position="absolute";jQuery(this.ta).css(b)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;g.prototype.setSuspended=function(b){var e;if(b&&!this.hf)for(M("[Construct 2] Suspending"),
this.hf=!0,-1!==this.xi&&f&&f(this.xi),-1!==this.Li&&clearTimeout(this.Li),b=0,e=this.Gf.length;b<e;b++)this.Gf[b](!0);else if(!b&&this.hf){M("[Construct 2] Resuming");this.hf=!1;this.ng=Oa();this.Kd=Oa();b=this.uf=this.$f=0;for(e=this.Gf.length;b<e;b++)this.Gf[b](!1);this.Td(!1)}};g.prototype.zm=function(b){this.Gf.push(b)};g.prototype.Nc=function(b){return this.yg[b]};g.prototype.ug=function(b){b&&b.project||da("Project model unavailable");b=b.project;this.name=b[0];this.Fj=b[1];this.La=b[12];this.Gj=
b[12];this.fa=b[10];this.ea=b[11];this.Qk=this.fa/2;this.Rk=this.ea/2;this.ra&&!this.sb&&(4<=b[12]||0===b[12])&&(M("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Gj=this.La=3);this.Ui=b[18];this.of=b[19];0===this.of&&(this.Ld=new Image,this.Ld.crossOrigin="anonymous",this.Ld.src="loading-logo.png");this.wf=b[21];this.yg=Yb();this.hc=new X(this);var e,a,c,d,k,m,f,h,u;e=0;for(a=b[2].length;e<a;e++)f=b[2][e],c=this.Nc(f[0]),cb(f,
c.prototype),u=new c(this),u.Ig=f[1],u.dd=f[2],u.Fk=f[9],u.oa&&u.oa(),this.plugins.push(u);this.yg=Yb();e=0;for(a=b[3].length;e<a;e++){f=b[3][e];k=this.Nc(f[1]);u=null;c=0;for(d=this.plugins.length;c<d;c++)if(this.plugins[c]instanceof k){u=this.plugins[c];break}var p=new u.kc(u);p.name=f[0];p.F=f[2];p.Th=f[3].slice(0);p.Ip=f[3].length;p.Em=f[4];p.Un=f[5];p.D=f[11];p.F?(p.Dk=[],p.tc=this.Xe++,p.P=null):(p.Dk=null,p.tc=-1,p.P=[]);p.Xf=null;p.ee=null;p.Bj=null;p.Lb=!1;p.Ka=null;f[6]?(p.wl=f[6][0],p.xl=
f[6][1],p.Ap=f[6][2]):(p.wl=null,p.xl=0,p.Ap=0);f[7]?p.Ea=f[7]:p.Ea=null;p.index=e;p.d=[];p.Tf=[];p.qd=[new db(p)];p.qc=0;p.Vb=null;p.Pm=0;p.Ce=!0;p.Qg=eb;p.Yn=fb;p.co=gb;p.N=hb;p.Af=ib;p.ti=jb;p.te=kb;p.ag=lb;p.Eh=mb;p.Gh=nb;p.Pc=ob;p.Lj=pb;p.tj=new Va(this.fa,this.ea);p.ej=!0;p.fj=!1;p.W={};p.toString=qb;p.Z=[];c=0;for(d=f[8].length;c<d;c++){h=f[8][c];var w=this.Nc(h[1]),l=null;k=0;for(m=this.Z.length;k<m;k++)if(this.Z[k]instanceof w){l=this.Z[k];break}l||(l=new w(this),l.Gk=[],l.ki=new K,l.oa&&
l.oa(),this.Z.push(l));-1===l.Gk.indexOf(p)&&l.Gk.push(p);k=new l.kc(l,p);k.name=h[0];k.D=h[2];k.oa();p.Z.push(k)}p.global=f[9];p.Wh=f[10];p.q=[];c=0;for(d=f[12].length;c<d;c++)p.q.push({id:f[12][c][0],name:f[12][c][1],ua:-1,Ya:!0,index:c});p.dr=f[13];this.Ui&&!p.F&&!p.Wh&&u.dd||p.oa();p.name&&(this.types[p.name]=p);this.j.push(p);u.Ig&&(c=new u.hb(p),c.uid=this.wf++,c.$k=this.Ik++,c.Fd=0,c.$e=rb,c.toString=sb,c.Da=f[14],c.oa(),p.d.push(c),this.Bc[c.uid.toString()]=c)}e=0;for(a=b[4].length;e<a;e++)for(k=
b[4][e],m=this.j[k[0]],c=1,d=k.length;c<d;c++)f=this.j[k[c]],f.P.push(m),m.Dk.push(f);e=0;for(a=b[27].length;e<a;e++){k=b[27][e];m=[];c=0;for(d=k.length;c<d;c++)m.push(this.j[k[c]]);c=0;for(d=m.length;c<d;c++)m[c].Lb=!0,m[c].Ka=m}if(0<this.Xe)for(e=0,a=this.j.length;e<a;e++)if(f=this.j[e],!f.F&&f.P.length){f.Xf=Array(this.Xe);f.ee=Array(this.Xe);f.Bj=Array(this.Xe);p=[];c=l=w=h=0;for(d=f.P.length;c<d;c++)for(u=f.P[c],f.Xf[u.tc]=h,h+=u.Ip,f.ee[u.tc]=w,w+=u.Em,f.Bj[u.tc]=l,l+=u.Un,k=0,m=u.q.length;k<
m;k++)p.push(ua({},u.q[k]));f.q=p.concat(f.q);c=0;for(d=f.q.length;c<d;c++)f.q[c].index=c}e=0;for(a=b[5].length;e<a;e++)f=b[5][e],c=new tb(this,f),this.di[c.name]=c,this.Mb.push(c);e=0;for(a=b[6].length;e<a;e++)f=b[6][e],c=new ub(this,f),this.wh[c.name]=c,this.sc.push(c);e=0;for(a=this.sc.length;e<a;e++)this.sc[e].X();e=0;for(a=this.sc.length;e<a;e++)this.sc[e].Qi();e=0;for(a=this.Pg.length;e<a;e++)this.Pg[e].X();this.Pg.length=0;this.Cm=b[7];this.ld=b[9];this.Me=1;this.kn=b[13];this.I=b[14];this.Yg=
b[15];this.Hp=b[17];this.oi=b[20];this.Dm=0<this.oi;this.bp=b[22];this.qb=this.Pl=b[23];this.dn=b[24];this.fp=b[25];this.Jg=Date.now();this.yg.length=0;this.Bo()};var h=!1;g.prototype.Kp=function(b,e){b.cocoonLazyLoad=!0;b.onerror=function(e){h=b.oj=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",e)};this.sb?b.src=e:b.src||("undefined"!==typeof XAPKReader?XAPKReader.get(e,function(e){b.src=e},function(a){h=b.oj=!0;console&&console.error&&console.error("Error extracting image '"+
e+"' from expansion file: ",a)}):(b.crossOrigin="anonymous",b.src=e));this.Ie.push(b)};g.prototype.Sn=function(b){var e,a;e=0;for(a=this.Ie.length;e<a;e++)if(this.Ie[e].Mm===b)return this.Ie[e];return null};var b=0,k=!1;g.prototype.vo=function(){this.Ne&&(b=this.Ne.$q(this.Cm))};g.prototype.gj=function(){var a=b,e=0,c=0,d=!0,m,f,c=0;for(m=this.Ie.length;c<m;c++){f=this.Ie[c];var p=f.Lm;if(!p||0>=p)p=5E4;a+=p;f.src&&(f.complete||f.loaded)&&!f.oj?e+=p:d=!1}d&&this.fp&&this.Ne&&(k||(this.Ne.br(),k=!0),
c=this.Ne.Wq(),e+=c,c<b&&(d=!1));this.Rd=0==a?0:e/a;return d};g.prototype.go=function(){if(this.K||this.n){var b=this.K||this.pi;this.ta&&this.Wk();this.Rd=0;this.ik=-1;if(this.gj())this.wo();else{var e=Date.now()-this.Jg;if(b){var a=this.width,c=this.height,d=this.devicePixelRatio;this.ta&&(a=this.Qf,c=this.Pf,d=1);if(3!==this.of&&(this.rb||500<=e&&this.ik!=this.Rd)){b.clearRect(0,0,a,c);var e=a/2,c=c/2,a=0===this.of&&this.Ld.complete,k=40*d,m=0,f=80*d,p;a&&(f=this.Ld.width*d,p=this.Ld.height*d,
k=f/2,m=p/2,b.drawImage(this.Ld,Q(e-k),Q(c-m),f,p));1>=this.of?(e=Q(e-k)+.5,c=Q(c+(m+(a?12*d:0)))+.5,b.fillStyle=h?"red":"DodgerBlue",b.fillRect(e,c,Math.floor(f*this.Rd),6*d),b.strokeStyle="black",b.strokeRect(e,c,f,6*d),b.strokeStyle="white",b.strokeRect(e-1*d,c-1*d,f+2*d,8*d)):2===this.of&&(b.font=this.sb?"12pt ArialMT":"12pt Arial",b.fillStyle=h?"#f00":"#999",b.cr="middle",d=Math.round(100*this.Rd)+"%",a=b.measureText?b.measureText(d):null,b.fillText(d,e-(a?a.width:0)/2,c))}this.ik=this.Rd}setTimeout(function(e){return function(){e.go()}}(this),
this.rb?10:100)}}};g.prototype.wo=function(){this.ta&&(this.canvas.parentNode.removeChild(this.ta),this.ta=this.pi=null);this.Jg=Date.now();this.Kd=Oa();var b,e,a;if(this.Ui)for(b=0,e=this.j.length;b<e;b++)a=this.j[b],a.F||a.Wh||!a.ga.dd||a.oa();else this.lg=!1;b=0;for(e=this.Mb.length;b<e;b++)this.Mb[b].Nm();2<=this.La&&(b=this.fa/this.ea,e=this.width/this.height,this.Me=2!==this.La&&e>b||2===this.La&&e<b?this.height/this.ea:this.width/this.fa);this.Fj?this.di[this.Fj].Ki():this.Mb[0].Ki();this.Ui||
(this.oe=1,this.trigger(X.prototype.k.Yi,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();b=0;for(e=this.j.length;b<e;b++)a=this.j[b],a.Ro&&a.Ro();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Td(!1);this.$c&&AppMobi.webview.execute("onGameReady();")};var u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;
g.prototype.Td=function(b,e,a){if(this.M){var c=Oa();if(a||!this.hf||b){b||(u?this.xi=u(this.zl):this.Li=setTimeout(this.zl,this.xc?1:16));e=e||c;var d=this.La;((a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Zc)||this.gf)&&0<this.Dd&&(d=this.Dd);0<d&&(!this.ck||window.self!==window.top)&&(d=window.innerHeight,this.mf===window.innerWidth&&this.lf===d||this.setSize(l(),r()));this.ra||(a?(this.Yf||(this.Ch=jQuery(this.canvas).css("margin")||
"0",this.Yf=!0),this.gg||this.cd||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Yf?(this.gg||this.cd||jQuery(this.canvas).css("margin",this.Ch),this.Ch="",this.Yf=!1,0===this.La&&this.setSize(Math.round(this.Nk/this.devicePixelRatio),Math.round(this.Mk/this.devicePixelRatio),!0)):(this.Nk=this.width,this.Mk=this.height));this.lg&&(a=this.gj(),
this.oe=this.Rd,a&&(this.lg=!1,this.Rd=1,this.trigger(X.prototype.k.Yi,null)));this.No(e);!this.L&&!this.rb||this.Zh||this.Ff||b||(this.L=!1,this.n?this.Ib():this.rc(),this.Ef&&(this.canvas&&this.canvas.toDataURL&&(this.pl=this.canvas.toDataURL(this.Ef[0],this.Ef[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.pl),this.trigger(X.prototype.k.dm,null)),this.Ef=null));this.Xq||(this.Gc++,this.Wf++,this.$f++);this.uf+=Oa()-c}}};g.prototype.No=function(b){var e,a,c,d,k,m,f,p;1E3<=b-this.Kd&&(this.Kd+=
1E3,1E3<=b-this.Kd&&(this.Kd=b),this.Bh=this.$f,this.$f=0,this.oh=this.uf,this.uf=0);0!==this.ng&&(e=b-this.ng,0>e&&(e=0),this.Uc=e/1E3,.5<this.Uc?this.Uc=0:.1<this.Uc&&(this.Uc=.1));this.ng=b;this.be=this.Uc*this.If;this.me.add(this.be);this.Tg.add(this.Uc);b=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.gf)&&!this.Zc;2<=this.La||b&&0<this.Dd?(e=this.fa/this.ea,a=this.width/this.height,c=this.La,b&&0<this.Dd&&(c=this.Dd),this.Me=2!==
c&&a>e||2===c&&a<e?this.height/this.ea:this.width/this.fa,this.M&&(this.M.gl(this.M.scrollX),this.M.hl(this.M.scrollY))):this.Me=this.ge?this.devicePixelRatio:1;this.wa();this.wc++;this.hc.mp();this.wc--;this.wa();this.wc++;a=this.Kk.sd();b=0;for(e=a.length;b<e;b++)a[b].Yq();b=0;for(e=this.j.length;b<e;b++)if(m=this.j[b],!m.F&&(m.Z.length||m.P.length))for(a=0,c=m.d.length;a<c;a++)for(f=m.d[a],d=0,k=f.r.length;d<k;d++)f.r[d].Td();b=0;for(e=this.j.length;b<e;b++)if(m=this.j[b],!m.F&&(m.Z.length||m.P.length))for(a=
0,c=m.d.length;a<c;a++)for(f=m.d[a],d=0,k=f.r.length;d<k;d++)p=f.r[d],p.ep&&p.ep();a=this.li.sd();b=0;for(e=a.length;b<e;b++)a[b].Td();this.wc--;this.xo();for(b=0;this.mh&&10>b++;)this.zj(this.mh);b=0;for(e=this.sc.length;b<e;b++)this.sc[b].Oh=!1;this.M.Bd&&this.M.Bd.ia();this.cl.length=0;this.wc++;b=0;for(e=this.j.length;b<e;b++)if(m=this.j[b],!m.F&&(m.Z.length||m.P.length))for(a=0,c=m.d.length;a<c;a++)for(f=m.d[a],d=0,k=f.r.length;d<k;d++)p=f.r[d],p.yl&&p.yl();a=this.Lk.sd();b=0;for(e=a.length;b<
e;b++)a[b].yl();this.wc--};g.prototype.zj=function(b){var e=this.M;this.M.yp();var a,c,d,k,m,f,p;if(this.n)for(a=0,c=this.j.length;a<c;a++)m=this.j[a],m.F||!m.Jl||m.global&&0!==m.d.length||-1!==b.ff.indexOf(m)||m.Jl();e==b&&(this.hc.Va.length=0);this.cl.length=0;b.Ki();a=0;for(c=this.j.length;a<c;a++)if(m=this.j[a],m.global||m.ga.Ig)for(b=0,e=m.d.length;b<e;b++)if(f=m.d[b],f.mi&&f.mi(),f.r)for(d=0,k=f.r.length;d<k;d++)p=f.r[d],p.mi&&p.mi();this.L=!0;this.wa()};g.prototype.Al=function(b){this.li.add(b)};
g.prototype.Jj=function(b){return b&&-1!==b.vf?this.Uc*b.vf:this.be};g.prototype.rc=function(){this.M.rc(this.K);this.$c&&this.K.present()};g.prototype.Ib=function(){this.M.Ib(this.n);this.n.hp()};g.prototype.Oj=function(b){b=b.toString();return this.Bc.hasOwnProperty(b)?this.Bc[b]:null};var m=[];g.prototype.Vd=function(b){var e,a;e=b.type.name;var c=null;if(this.zd.hasOwnProperty(e)){if(c=this.zd[e],c.contains(b))return}else c=m.length?m.pop():new K,this.zd[e]=c;c.add(b);this.Yc=!0;if(b.Lb)for(e=
0,a=b.siblings.length;e<a;e++)this.Vd(b.siblings[e]);this.Vh&&c.Ge.push(b);this.wc++;this.trigger(Object.getPrototypeOf(b.type.ga).k.fm,b);this.wc--};g.prototype.wa=function(){if(this.Yc){var b,e,a,c,d,k;this.Vh=!0;a=0;for(d=this.Ub.length;a<d;++a)for(b=this.Ub[a],e=b.type,e.d.push(b),c=0,k=e.P.length;c<k;++c)e.P[c].d.push(b),e.P[c].Ce=!0;this.Ub.length=0;this.Yl();Ma(this.zd);this.Yc=this.Vh=!1}};g.prototype.Yl=function(){for(var b in this.zd)this.zd.hasOwnProperty(b)&&this.Tl(this.zd[b])};g.prototype.Tl=
function(b){var e=b.sd(),a=e[0].type,c,d,k,f,p,h;Pa(a.d,b);a.Ce=!0;0===a.d.length&&(a.fj=!1);c=0;for(d=a.P.length;c<d;++c)h=a.P[c],Pa(h.d,b),h.Ce=!0;c=0;for(d=this.hc.Va.length;c<d;++c)if(p=this.hc.Va[c],p.Ua.hasOwnProperty(a.index)&&Pa(p.Ua[a.index].Hd,b),!a.F)for(k=0,f=a.P.length;k<f;++k)h=a.P[k],p.Ua.hasOwnProperty(h.index)&&Pa(p.Ua[h.index].Hd,b);if(p=e[0].e){if(p.Qb)for(k=p.d,c=0,d=k.length;c<d;++c)f=k[c],b.contains(f)&&(f.pa(),p.Sa.update(f,f.Ha,null),f.Ha.set(0,0,-1,-1));Pa(p.d,b);p.Bf(0)}for(c=
0;c<e.length;++c)this.Sl(e[c],a);b.clear();m.push(b);this.L=!0};g.prototype.Sl=function(b,e){var a,c,d;a=0;for(c=this.yj.length;a<c;++a)this.yj[a](b);b.Tc&&e.tj.update(b,b.Tc,null);(a=b.e)&&a.we(b,!0);if(b.r)for(a=0,c=b.r.length;a<c;++a)d=b.r[a],d.Ag&&d.Ag(),d.behavior.ki.remove(b);this.Kk.remove(b);this.li.remove(b);this.Lk.remove(b);b.Ag&&b.Ag();this.Bc.hasOwnProperty(b.uid.toString())&&delete this.Bc[b.uid.toString()];this.zg--;100>e.Tf.length&&e.Tf.push(b)};var p=[];g.prototype.yd=function(b,
e,a,c,d,k){var m,f,h,u;if(!b)return null;var w=this.j[b[1]],l=w.ga.dd;if(this.lg&&l&&!w.Wh||l&&!this.n&&11===b[0][11])return null;var r=e;l||(e=null);var g;w.Tf.length?(g=w.Tf.pop(),g.xb=!0,w.ga.hb.call(g,w)):(g=new w.ga.hb(w),g.xb=!1);!a||k||this.Bc.hasOwnProperty(b[2].toString())?g.uid=this.wf++:g.uid=b[2];this.Bc[g.uid.toString()]=g;g.$k=this.Ik++;g.Fd=w.d.length;m=0;for(f=this.Ub.length;m<f;++m)this.Ub[m].type===w&&g.Fd++;g.$e=rb;g.toString=sb;h=b[3];if(g.xb)Ma(g.W);else{g.W={};if("undefined"!==
typeof cr_is_preview)for(g.Wj=[],g.Wj.length=h.length,m=0,f=h.length;m<f;m++)g.Wj[m]=h[m][1];g.ca=[];g.ca.length=h.length}m=0;for(f=h.length;m<f;m++)g.ca[m]=h[m][0];if(l){var q=b[0];g.x=fa(c)?q[0]:c;g.y=fa(d)?q[1]:d;g.z=q[2];g.width=q[3];g.height=q[4];g.depth=q[5];g.i=q[6];g.opacity=q[7];g.Oa=q[8];g.Pa=q[9];g.Fa=q[10];m=q[11];!this.n&&w.q.length&&(g.Fa=m);g.Re=Xa(g.Fa);this.g&&Ya(g,g.Fa,this.g);if(g.xb){m=0;for(f=q[12].length;m<f;m++)for(h=0,u=q[12][m].length;h<u;h++)g.R[m][h]=q[12][m][h];g.xa.set(0,
0,0,0);g.Tc.set(0,0,-1,-1);g.Ha.set(0,0,-1,-1);g.xd.Hg(g.xa);g.bh.length=0}else{g.R=q[12].slice(0);m=0;for(f=g.R.length;m<f;m++)g.R[m]=q[12][m].slice(0);g.H=[];g.Oc=[];g.Oc.length=w.q.length;g.xa=new R(0,0,0,0);g.Tc=new R(0,0,-1,-1);g.Ha=new R(0,0,-1,-1);g.xd=new ta;g.bh=[];g.ja=vb;g.Tq=wb;g.nb=xb;g.pa=yb;g.Gp=zb;g.er=Ab;g.Yb=Bb}g.Cp=!1;g.Ep=0;g.Dp=0;g.Bp=null;14===q.length&&(g.Cp=!0,g.Ep=q[13][0],g.Dp=q[13][1],g.Bp=q[13][2]);m=0;for(f=w.q.length;m<f;m++)g.Oc[m]=!0;g.Jc=Cb;g.Jc();g.Nl=!!g.H.length;
g.ah=!0;g.hh=!0;w.ej=!0;g.visible=!0;g.vf=-1;g.e=e;g.Rb=e.d.length;"undefined"===typeof g.Tb&&(g.Tb=null);this.L=g.Qe=!0}var t;m=p.length=0;for(f=w.P.length;m<f;m++)p.push.apply(p,w.P[m].Z);p.push.apply(p,w.Z);if(g.xb)for(m=0,f=p.length;m<f;m++){var aa=p[m];t=g.r[m];t.xb=!0;aa.behavior.hb.call(t,aa,g);q=b[4][m];h=0;for(u=q.length;h<u;h++)t.Da[h]=q[h];t.oa();aa.behavior.ki.add(g)}else for(g.r=[],m=0,f=p.length;m<f;m++)aa=p[m],t=new aa.behavior.hb(aa,g),t.xb=!1,t.Da=b[4][m].slice(0),t.oa(),g.r.push(t),
aa.behavior.ki.add(g);q=b[5];if(g.xb)for(m=0,f=q.length;m<f;m++)g.Da[m]=q[m];else g.Da=q.slice(0);this.Ub.push(g);this.Yc=!0;e&&(e.Le(g,!0),1!==e.Cc||1!==e.Dc)&&(w.fj=!0);this.zg++;if(w.Lb){if(g.Lb=!0,g.xb?g.siblings.length=0:g.siblings=[],!a&&!k){m=0;for(f=w.Ka.length;m<f;m++)if(w.Ka[m]!==w){if(!w.Ka[m].Vb)return null;g.siblings.push(this.yd(w.Ka[m].Vb,r,!1,l?g.x:c,l?g.y:d,!0))}m=0;for(f=g.siblings.length;m<f;m++)for(g.siblings[m].siblings.push(g),h=0;h<f;h++)m!==h&&g.siblings[m].siblings.push(g.siblings[h])}}else g.Lb=
!1,g.siblings=null;g.oa();m=0;for(f=g.r.length;m<f;m++)g.r[m].dp&&g.r[m].dp();return g};g.prototype.Ih=function(b){var e,a;e=0;for(a=this.M.u.length;e<a;e++){var c=this.M.u[e];if($a(c.name,b))return c}return null};g.prototype.Ye=function(b){b=Q(b);0>b&&(b=0);b>=this.M.u.length&&(b=this.M.u.length-1);return this.M.u[b]};g.prototype.nh=function(b){var e,a;e=0;for(a=b.length;e<a;e++)b[e].N().T=!0};g.prototype.Af=function(b){var e,a;e=0;for(a=b.length;e<a;e++)b[e].Af()};g.prototype.ti=function(b){var e,
a;e=0;for(a=b.length;e<a;e++)b[e].ti()};g.prototype.te=function(b){var e,a;e=0;for(a=b.length;e<a;e++)b[e].te()};g.prototype.zp=function(b,e,a){var c=b.N(),d,m,k,f,p,h;if(c.T)for(c.T=!1,d=c.d.length=0,f=b.d.length;d<f;d++)k=b.d[d],k.pa(),p=k.e.Ja(e,a,!0),h=k.e.Ja(e,a,!1),k.nb(p,h)&&c.d.push(k);else{d=m=0;for(f=c.d.length;d<f;d++)k=c.d[d],k.pa(),p=k.e.Ja(e,a,!0),h=k.e.Ja(e,a,!1),k.nb(p,h)&&(c.d[m]=c.d[d],m++);c.d.length=m}b.Pc();return c.Nh()};new ta;new R(0,0,0,0);g.prototype.Gl=function(b,e){if(!e)return!1;
var a,c,d,k,m;a=0;for(c=b.Z.length;a<c;a++)if(b.Z[a].behavior instanceof e)return!0;if(!b.F)for(a=0,c=b.P.length;a<c;a++)for(m=b.P[a],d=0,k=m.Z.length;d<k;d++)if(m.Z[d].behavior instanceof e)return!0;return!1};g.prototype.Hl=function(b){return this.Gl(b,Qb.oq)};g.prototype.Pi=function(b){return this.Gl(b,Qb.pq)};var w=-1;g.prototype.trigger=function(b,e,a){if(!this.M)return!1;var c=this.M.Bd;if(!c)return!1;var d=!1,k,m,f;w++;var p=c.sh;m=0;for(f=p.length;m<f;++m)k=this.Dl(b,e,p[m],a),d=d||k;k=this.Dl(b,
e,c,a);w--;return d||k};g.prototype.Dl=function(b,e,a,c){var d=!1,k,m,f,p;if(e)for(f=this.Ni(b,e,e.type.name,a,c),d=d||f,p=e.type.P,k=0,m=p.length;k<m;++k)f=this.Ni(b,e,p[k].name,a,c),d=d||f;else f=this.Ni(b,e,"system",a,c),d=d||f;return d};g.prototype.Ni=function(b,e,a,c,d){var k,m=!1,f=!1,f="undefined"!==typeof d,p=(f?c.Dj:c.El)[a];if(!p)return m;var h=null;c=0;for(k=p.length;c<k;++c)if(p[c].method==b){h=p[c].We;break}if(!h)return m;var u;f?u=h[d]:u=h;if(!u)return null;c=0;for(k=u.length;c<k;c++)b=
u[c][0],d=u[c][1],f=this.Qn(e,a,b,d),m=m||f;return m};g.prototype.Qn=function(b,e,a,c){var d,k,m=!1;this.Oi++;var f=this.Ma().Hb;f&&this.Af(f.pd);var p=1<this.Oi;this.Af(a.pd);p&&this.jp();var h=this.vi(a);h.Hb=a;b&&(d=this.types[e].N(),d.T=!1,d.d.length=1,d.d[0]=b,this.types[e].Pc());b=!0;if(a.parent){e=h.sl;for(d=a.parent;d;)e.push(d),d=d.parent;e.reverse();d=0;for(k=e.length;d<k;d++)if(!e[d].op()){b=!1;break}}b&&(this.Wf++,a.ac?a.np(c):a.ia(),m=m||h.Jd);this.Vk();p&&this.cp();this.te(a.pd);f&&
this.te(f.pd);this.Yc&&0===this.wc&&0===w&&!this.Xh&&this.wa();this.Oi--;return m};g.prototype.Xn=function(){var b=this.Ma();return b.Hb.ya[b.Ga]};g.prototype.jp=function(){this.wg++;this.wg>=this.ii.length&&this.ii.push([])};g.prototype.cp=function(){this.wg--};g.prototype.Ij=function(){return this.ii[this.wg]};g.prototype.vi=function(b){this.Vf++;this.Vf>=this.vh.length&&this.vh.push(new Db);var e=this.Ma();e.reset(b);return e};g.prototype.Vk=function(){this.Vf--};g.prototype.Ma=function(){return this.vh[this.Vf]};
g.prototype.Kj=function(b,e){for(var a,c,d,k,m,f;e;){a=0;for(c=e.zb.length;a<c;a++)if(f=e.zb[a],f instanceof Eb&&$a(b,f.name))return f;e=e.parent}a=0;for(c=this.sc.length;a<c;a++)for(m=this.sc[a],d=0,k=m.Wc.length;d<k;d++)if(f=m.Wc[d],f instanceof Eb&&$a(b,f.name))return f;return null};g.prototype.Mj=function(b){var e,a;e=0;for(a=this.Mb.length;e<a;e++)if(this.Mb[e].D===b)return this.Mb[e];return null};g.prototype.dg=function(b){var e,a;e=0;for(a=this.j.length;e<a;e++)if(this.j[e].D===b)return this.j[e];
return null};g.prototype.Zn=function(b){var e,a;e=0;for(a=this.$d.length;e<a;e++)if(this.$d[e].D===b)return this.$d[e];return null};g.prototype.Qm=function(b,e){this.Ef=[b,e];this.L=!0};g.prototype.xo=function(){var b=this,e=this.Ii,d=this.yc,k=this.sg,m=!1;this.ol&&(m=!0,e="__c2_continuouspreview",this.ol=!1);if(e.length){this.wa();d=this.sp();if(window.indexedDB&&!this.rb)t(e,d,function(){M("Saved state to IndexedDB storage ("+d.length+" bytes)");b.yc=d;b.trigger(X.prototype.k.Xg,null);b.yc="";
m&&a()},function(c){try{localStorage.setItem("__c2save_"+e,d),M("Saved state to WebStorage ("+d.length+" bytes)"),b.yc=d,b.trigger(X.prototype.k.Xg,null),b.yc="",m&&a()}catch(k){M("Failed to save game state: "+c+"; "+k)}});else try{localStorage.setItem("__c2save_"+e,d),M("Saved state to WebStorage ("+d.length+" bytes)"),b.yc=d,this.trigger(X.prototype.k.Xg,null),b.yc="",m&&a()}catch(f){M("Error saving to WebStorage: "+f)}this.Aa=this.sg=this.Ii=""}if(k.length){if(window.indexedDB&&!this.rb)c(k,function(e){e?
(b.Aa=e,M("Loaded state from IndexedDB storage ("+b.Aa.length+" bytes)")):(b.Aa=localStorage.getItem("__c2save_"+k)||"",M("Loaded state from WebStorage ("+b.Aa.length+" bytes)"));b.Ff=!1;b.Aa.length||b.trigger(X.prototype.k.Vg,null)},function(){b.Aa=localStorage.getItem("__c2save_"+k)||"";M("Loaded state from WebStorage ("+b.Aa.length+" bytes)");b.Ff=!1;b.Aa.length||b.trigger(X.prototype.k.Vg,null)});else{try{this.Aa=localStorage.getItem("__c2save_"+k)||"",M("Loaded state from WebStorage ("+this.Aa.length+
" bytes)")}catch(p){this.Aa=""}this.Ff=!1;b.Aa.length||b.trigger(X.prototype.k.Vg,null)}this.Ii=this.sg=""}this.Aa.length&&(this.wa(),this.Lo(this.Aa),this.yc=this.Aa,this.trigger(X.prototype.k.im,null),this.Aa=this.yc="")};g.prototype.sp=function(){var b,e,a,c,k,m,f,p={c2save:!0,version:1,rt:{time:this.me.Ca,walltime:this.Tg.Ca,timescale:this.If,tickcount:this.Gc,execcount:this.Wf,next_uid:this.wf,running_layout:this.M.D,start_time_offset:Date.now()-this.Jg},types:{},layouts:{},events:{groups:{},
cnds:{},acts:{},vars:{}}};b=0;for(e=this.j.length;b<e;b++)if(k=this.j[b],!k.F&&!this.Hl(k)){m={instances:[]};La(k.W)&&(m.ex=d(k.W));a=0;for(c=k.d.length;a<c;a++)m.instances.push(this.Hi(k.d[a]));p.types[k.D.toString()]=m}b=0;for(e=this.Mb.length;b<e;b++)a=this.Mb[b],p.layouts[a.D.toString()]=a.Pb();c=p.events.groups;b=0;for(e=this.$d.length;b<e;b++)a=this.$d[b],c[a.D.toString()]=this.eg[a.cf].bf;e=p.events.cnds;for(f in this.ae)this.ae.hasOwnProperty(f)&&(b=this.ae[f],La(b.W)&&(e[f]={ex:d(b.W)}));
e=p.events.acts;for(f in this.Zd)this.Zd.hasOwnProperty(f)&&(b=this.Zd[f],La(b.W)&&(e[f]={ex:b.W}));e=p.events.vars;for(f in this.He)this.He.hasOwnProperty(f)&&(b=this.He[f],b.jg||b.parent&&!b.jf||(e[f]=b.data));p.system=this.hc.Pb();return JSON.stringify(p)};g.prototype.bl=function(){var b,e,a,c,d,k;this.Bc={};b=0;for(e=this.j.length;b<e;b++)if(a=this.j[b],!a.F)for(c=0,d=a.d.length;c<d;c++)k=a.d[c],this.Bc[k.uid.toString()]=k};g.prototype.Lo=function(b){b=JSON.parse(b);if(b.c2save&&!(1<b.version)){var e=
b.rt;this.me.reset();this.me.Ca=e.time;this.Tg.reset();this.Tg.Ca=e.walltime||0;this.If=e.timescale;this.Gc=e.tickcount;this.Wf=e.execcount;this.Jg=Date.now()-e.start_time_offset;var a=e.running_layout;if(a!==this.M.D)if(a=this.Mj(a))this.zj(a);else return;var c,d,k,m,f,p,h;p=b.types;for(d in p)if(p.hasOwnProperty(d)&&(m=this.dg(parseInt(d,10)))&&!m.F&&!this.Hl(m)){p[d].ex?m.W=p[d].ex:Ma(m.W);f=m.d;k=p[d].instances;a=0;for(c=na(f.length,k.length);a<c;a++)this.tg(f[a],k[a]);a=k.length;for(c=f.length;a<
c;a++)this.Vd(f[a]);a=f.length;for(c=k.length;a<c;a++){f=null;if(m.ga.dd&&(f=this.M.bg(k[a].w.l),!f))continue;f=this.yd(m.Vb,f,!1,0,0,!0);this.tg(f,k[a])}m.Ce=!0}this.wa();this.bl();c=b.layouts;for(d in c)c.hasOwnProperty(d)&&(a=this.Mj(parseInt(d,10)))&&a.zc(c[d]);c=b.events.groups;for(d in c)c.hasOwnProperty(d)&&(a=this.Zn(parseInt(d,10)))&&this.eg[a.cf]&&this.eg[a.cf].tp(c[d]);a=b.events.cnds;for(d in a)a.hasOwnProperty(d)&&this.ae.hasOwnProperty(d)&&(this.ae[d].W=a[d].ex);a=b.events.acts;for(d in a)a.hasOwnProperty(d)&&
this.Zd.hasOwnProperty(d)&&(this.Zd[d].W=a[d].ex);a=b.events.vars;for(d in a)a.hasOwnProperty(d)&&this.He.hasOwnProperty(d)&&(this.He[d].data=a[d]);this.wf=e.next_uid;this.hc.zc(b.system);a=0;for(c=this.j.length;a<c;a++)if(m=this.j[a],!m.F)for(d=0,b=m.d.length;d<b;d++){f=m.d[d];if(m.Lb)for(p=f.$e(),e=f.siblings.length=0,k=m.Ka.length;e<k;e++)h=m.Ka[e],m!==h&&f.siblings.push(h.d[p]);f.td&&f.td();if(f.r)for(e=0,k=f.r.length;e<k;e++)p=f.r[e],p.td&&p.td()}this.L=!0}};g.prototype.Hi=function(b,e){var a,
c,k,m,f;m=b.type;k=m.ga;var p={};e?p.c2=!0:p.uid=b.uid;La(b.W)&&(p.ex=d(b.W));if(b.ca&&b.ca.length)for(p.ivs={},a=0,c=b.ca.length;a<c;a++)p.ivs[b.type.Th[a].toString()]=b.ca[a];if(k.dd){k={x:b.x,y:b.y,w:b.width,h:b.height,l:b.e.D,zi:b.Yb()};0!==b.i&&(k.a=b.i);1!==b.opacity&&(k.o=b.opacity);.5!==b.Oa&&(k.hX=b.Oa);.5!==b.Pa&&(k.hY=b.Pa);0!==b.Fa&&(k.bm=b.Fa);b.visible||(k.v=b.visible);b.Qe||(k.ce=b.Qe);-1!==b.vf&&(k.mts=b.vf);if(m.q.length)for(k.fx=[],a=0,c=m.q.length;a<c;a++)f=m.q[a],k.fx.push({name:f.name,
active:b.Oc[f.index],params:b.R[f.index]});p.w=k}if(b.r&&b.r.length)for(p.behs={},a=0,c=b.r.length;a<c;a++)m=b.r[a],m.Pb&&(p.behs[m.type.D.toString()]=m.Pb());b.Pb&&(p.data=b.Pb());return p};g.prototype.ao=function(b,e){var a,c;a=0;for(c=b.Th.length;a<c;a++)if(b.Th[a]===e)return a;return-1};g.prototype.Wn=function(b,e){var a,c;a=0;for(c=b.r.length;a<c;a++)if(b.r[a].type.D===e)return a;return-1};g.prototype.tg=function(b,e,a){var c,d,k,m,f;f=b.type;m=f.ga;if(a){if(!e.c2)return}else b.uid=e.uid;e.ex?
b.W=e.ex:Ma(b.W);if(d=e.ivs)for(c in d)d.hasOwnProperty(c)&&(k=this.ao(f,parseInt(c,10)),0>k||k>=b.ca.length||(b.ca[k]=d[c]));if(m.dd){k=e.w;b.e.D!==k.l&&(d=b.e,b.e=this.M.bg(k.l),b.e?(d.we(b,!0),b.e.Le(b,!0),b.ja(),b.e.Bf(0)):(b.e=d,a||this.Vd(b)));b.x=k.x;b.y=k.y;b.width=k.w;b.height=k.h;b.Rb=k.zi;b.i=k.hasOwnProperty("a")?k.a:0;b.opacity=k.hasOwnProperty("o")?k.o:1;b.Oa=k.hasOwnProperty("hX")?k.hX:.5;b.Pa=k.hasOwnProperty("hY")?k.hY:.5;b.visible=k.hasOwnProperty("v")?k.v:!0;b.Qe=k.hasOwnProperty("ce")?
k.ce:!0;b.vf=k.hasOwnProperty("mts")?k.mts:-1;b.Fa=k.hasOwnProperty("bm")?k.bm:0;b.Re=Xa(b.Fa);this.g&&Ya(b,b.Fa,this.g);b.ja();if(k.hasOwnProperty("fx"))for(a=0,d=k.fx.length;a<d;a++)m=f.Gh(k.fx[a].name),0>m||(b.Oc[m]=k.fx[a].active,b.R[m]=k.fx[a].params);b.Jc()}if(f=e.behs)for(c in f)f.hasOwnProperty(c)&&(a=this.Wn(b,parseInt(c,10)),0>a||b.r[a].zc(f[c]));e.data&&b.zc(e.data)};Fb=function(b){return new g(document.getElementById(b))};Gb=function(b,e){return new g({dc:!0,width:b,height:e})};window.cr_createRuntime=
Fb;window.cr_createDCRuntime=Gb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.hj=!0;document.body.appendChild(b);b=new g(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new g(document.getElementById("canvas"));
window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var l=document.getElementById("c2canvas");return l?l.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(l,r){var g=window.cr_getC2Runtime();g&&g.Qm(l,r)};window.cr_sizeCanvas=function(l,r){if(0!==l&&0!==r){var g=window.cr_getC2Runtime();g&&g.setSize(l,r)}};window.cr_setSuspended=function(l){var r=window.cr_getC2Runtime();r&&r.setSuspended(l)};
(function(){function l(b,a){this.b=b;this.Bd=null;this.scrollX=this.b.fa/2;this.scrollY=this.b.ea/2;this.scale=1;this.i=0;this.fe=!0;this.name=a[0];this.width=a[1];this.height=a[2];this.Il=a[3];this.ml=a[4];this.D=a[5];var c=a[6],d,f;this.u=[];this.ff=[];d=0;for(f=c.length;d<f;d++){var h=new Hb(this,c[d]);h.Jk=d;this.u.push(h)}c=a[7];this.Gd=[];d=0;for(f=c.length;d<f;d++){var h=c[d],n=this.b.j[h[1]];n.Vb||(n.Vb=h);this.Gd.push(h);-1===this.ff.indexOf(n)&&this.ff.push(n)}this.q=[];this.H=[];this.R=
[];d=0;for(f=a[8].length;d<f;d++)this.q.push({id:a[8][d][0],name:a[8][d][1],ua:-1,Ya:!0,index:d}),this.R.push(a[8][d][2].slice(0));this.Jc();this.ve=new R(0,0,1,1);this.yi=new R(0,0,1,1);this.kd={}}function r(b,a){return b.Rb-a.Rb}function g(b,a){this.ma=b;this.b=b.b;this.d=[];this.scale=1;this.i=0;this.Ad=!1;this.Hc=new R(0,0,0,0);this.Bl=new ta;this.aa=this.V=this.ba=this.U=0;this.Ud=!1;this.Lc=-1;this.name=a[0];this.index=a[1];this.D=a[2];this.visible=a[3];this.Qc=a[4];this.Ic=a[5];this.Cc=a[6];
this.Dc=a[7];this.opacity=a[8];this.Ah=a[9];this.Qb=a[10];this.Mc=a[11];this.Fa=a[12];this.jn=a[13];this.Re="source-over";this.za=this.Ba=0;this.Sa=null;this.ne=q();this.Ec=!0;this.mg=new R(0,0,-1,-1);this.pb=new R(0,0,-1,-1);this.Qb&&(this.Sa=new Wa(this.b.fa,this.b.ea));this.nd=!1;var c=a[14],d,f;this.rl=[];this.bb=[];this.Se=[];d=0;for(f=c.length;d<f;d++){var h=c[d],n=this.b.j[h[1]];n.Vb||(n.Vb=h,n.Pm=this.index);this.bb.push(h);-1===this.ma.ff.indexOf(n)&&this.ma.ff.push(n)}wa(this.rl,this.bb);
this.q=[];this.H=[];this.R=[];d=0;for(f=a[15].length;d<f;d++)this.q.push({id:a[15][d][0],name:a[15][d][1],ua:-1,Ya:!0,index:d}),this.R.push(a[15][d][2].slice(0));this.Jc();this.ve=new R(0,0,1,1);this.yi=new R(0,0,1,1)}function q(){return d.length?d.pop():[]}function t(b){b.length=0;d.push(b)}l.prototype.rp=function(b){var a=b.type.D.toString();this.kd.hasOwnProperty(a)||(this.kd[a]=[]);this.kd[a].push(this.b.Hi(b))};l.prototype.Qj=function(){var b=this.u[0];return!b.Ic&&1===b.opacity&&!b.Ah&&b.visible};
l.prototype.Jc=function(){this.H.length=0;var b,a,c;b=0;for(a=this.q.length;b<a;b++)c=this.q[b],c.Ya&&this.H.push(c)};l.prototype.Fh=function(b){var a,c,d;a=0;for(c=this.q.length;a<c;a++)if(d=this.q[a],d.name===b)return d;return null};var c=[],a=!0;l.prototype.Ki=function(){this.ml&&(this.Bd=this.b.wh[this.ml],this.Bd.Qi());this.b.M=this;this.scrollX=this.b.fa/2;this.scrollY=this.b.ea/2;var b,d,f,m,p,h,n;b=0;for(f=this.b.j.length;b<f;b++)if(d=this.b.j[b],!d.F)for(p=d.d,d=0,m=p.length;d<m;d++)if(h=
p[d],h.e){var e=h.e.Jk;e>=this.u.length&&(e=this.u.length-1);h.e=this.u[e];-1===h.e.d.indexOf(h)&&h.e.d.push(h);h.e.Ud=!0}if(!a)for(b=0,f=this.u.length;b<f;++b)this.u[b].d.sort(r);c.length=0;this.Fm();b=0;for(f=this.u.length;b<f;b++)h=this.u[b],h.Om(),h.Si();p=!1;if(!this.fe){for(n in this.kd)if(this.kd.hasOwnProperty(n)&&(d=this.b.dg(parseInt(n,10)))&&!d.F&&this.b.Pi(d)){m=this.kd[n];b=0;for(f=m.length;b<f;b++){h=null;if(d.ga.dd&&(h=this.bg(m[b].w.l),!h))continue;h=this.b.yd(d.Vb,h,!1,0,0,!0);this.b.tg(h,
m[b]);p=!0;c.push(h)}m.length=0}b=0;for(f=this.u.length;b<f;b++)this.u[b].d.sort(r),this.u[b].Ud=!0}p&&(this.b.wa(),this.b.bl());for(b=0;b<c.length;b++)if(h=c[b],h.type.Lb)for(f=h.$e(),d=0,m=h.type.Ka.length;d<m;d++)n=h.type.Ka[d],h.type!==n&&(n.d.length>f?h.siblings.push(n.d[f]):n.Vb&&(p=this.b.yd(n.Vb,h.e,!0,h.x,h.y,!0),this.b.wa(),n.Qg(),h.siblings.push(p),c.push(p)));b=0;for(f=this.Gd.length;b<f;b++)this.b.yd(this.Gd[b],null,!0);this.b.mh=null;this.b.wa();if(this.b.K&&!this.b.ra)for(b=0,f=this.b.j.length;b<
f;b++)n=this.b.j[b],!n.F&&n.d.length&&n.Xk&&n.Xk(this.b.K);b=0;for(f=c.length;b<f;b++)h=c[b],this.b.trigger(Object.getPrototypeOf(h.type.ga).k.em,h);c.length=0;this.b.trigger(X.prototype.k.hm,null);this.fe=!1};l.prototype.Nm=function(){var b,a,c,d,f;a=b=0;for(c=this.Gd.length;b<c;b++)d=this.Gd[b],f=this.b.j[d[1]],f.global?this.b.yd(d,null,!0):(this.Gd[a]=d,a++);this.Gd.length=a};l.prototype.yp=function(){this.b.trigger(X.prototype.k.gm,null);this.b.hc.Va.length=0;var b,c,d,m,f,h;if(!this.fe)for(b=
0,c=this.u.length;b<c;b++)for(this.u[b].Ti(),f=this.u[b].d,d=0,m=f.length;d<m;d++)h=f[d],h.type.global||this.b.Pi(h.type)&&this.rp(h);b=0;for(c=this.u.length;b<c;b++){f=this.u[b].d;d=0;for(m=f.length;d<m;d++)h=f[d],h.type.global||this.b.Vd(h);this.b.wa();f.length=0;this.u[b].Ud=!0}b=0;for(c=this.b.j.length;b<c;b++)if(f=this.b.j[b],!(f.global||f.ga.dd||f.ga.Ig||f.F)){d=0;for(m=f.d.length;d<m;d++)this.b.Vd(f.d[d]);this.b.wa()}a=!1};new R(0,0,0,0);l.prototype.rc=function(b){var a,c=b,d=!1,f=!this.b.qb;
f&&(this.b.rg||(this.b.rg=document.createElement("canvas"),a=this.b.rg,a.width=this.b.C,a.height=this.b.B,this.b.kk=a.getContext("2d"),d=!0),a=this.b.rg,c=this.b.kk,a.width!==this.b.C&&(a.width=this.b.C,d=!0),a.height!==this.b.B&&(a.height=this.b.B,d=!0),d&&(c.webkitImageSmoothingEnabled=this.b.I,c.mozImageSmoothingEnabled=this.b.I,c.msImageSmoothingEnabled=this.b.I,c.imageSmoothingEnabled=this.b.I));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.b.Yg&&!this.Qj()&&c.clearRect(0,0,this.b.C,
this.b.B);var h,n,d=0;for(h=this.u.length;d<h;d++)n=this.u[d],n.visible&&0<n.opacity&&11!==n.Fa&&(n.d.length||!n.Ic)?n.rc(c):n.Si();f&&b.drawImage(a,0,0,this.b.width,this.b.height)};l.prototype.Ib=function(b){var a=0<this.H.length||this.b.Fe||!this.b.qb;if(a){this.b.Qa||(this.b.Qa=b.oc(this.b.C,this.b.B,this.b.I));if(this.b.Qa.Pe!==this.b.C||this.b.Qa.Oe!==this.b.B)b.deleteTexture(this.b.Qa),this.b.Qa=b.oc(this.b.C,this.b.B,this.b.I);b.fc(this.b.Qa);this.b.qb||b.Ae(this.b.C,this.b.B)}else this.b.Qa&&
(b.fc(null),b.deleteTexture(this.b.Qa),this.b.Qa=null);this.b.Yg&&!this.Qj()&&b.clear(0,0,0,0);var c,d,f;c=0;for(d=this.u.length;c<d;c++)f=this.u[c],f.visible&&0<f.opacity&&(f.d.length||!f.Ic)?f.Ib(b):f.Si();a&&(0===this.H.length||1===this.H.length&&this.b.qb?(1===this.H.length?(a=this.H[0].index,b.gc(this.H[0].ua),b.ze(null,1/this.b.C,1/this.b.B,0,0,1,1,this.scale,this.i,0,0,this.b.C/2,this.b.B/2,this.R[a]),b.Cg(this.H[0].ua)&&(this.b.L=!0)):b.gc(0),this.b.qb||b.Ae(this.b.width,this.b.height),b.fc(null),
b.ye(1),b.eb(this.b.Qa),b.il(),b.ec(),b.ic(),a=this.b.width/2,c=this.b.height/2,b.Eg(-a,c,a,c,a,-c,-a,-c),b.eb(null)):this.Ai(b,null,null,null))};l.prototype.Ze=function(){return 0<this.H.length||this.b.Fe||!this.b.qb?this.b.Qa:null};l.prototype.Nj=function(){var b=this.u[0].ab(),a,c,d;a=1;for(c=this.u.length;a<c;a++)d=this.u[a],(0!==d.Cc||0!==d.Dc)&&d.ab()<b&&(b=d.ab());return b};l.prototype.gl=function(b){if(!this.Il){var a=1/this.Nj()*this.b.C/2;b>this.width-a&&(b=this.width-a);b<a&&(b=a)}this.scrollX!==
b&&(this.scrollX=b,this.b.L=!0)};l.prototype.hl=function(b){if(!this.Il){var a=1/this.Nj()*this.b.B/2;b>this.height-a&&(b=this.height-a);b<a&&(b=a)}this.scrollY!==b&&(this.scrollY=b,this.b.L=!0)};l.prototype.Fm=function(){this.gl(this.scrollX);this.hl(this.scrollY)};l.prototype.Ai=function(b,a,c,d){var f=c?c.H:a?a.H:this.H,h=1,n=0,e=0,g=0,l=this.b.C,r=this.b.B;c?(h=c.e.ab(),n=c.e.$a(),e=c.e.U,g=c.e.V,l=c.e.ba,r=c.e.aa):a&&(h=a.ab(),n=a.$a(),e=a.U,g=a.V,l=a.ba,r=a.aa);var q=this.b.Dh,x,t,L,A,I=0,Na=
1,ja,N=this.b.C,J=this.b.B,za=N/2,aa=J/2,S=a?a.ve:this.ve,y=a?a.yi:this.yi,z=0,P=0,B=0,H=0,E=N,ka=N,F=J,la=J,ea=L=0,pa=c?c.e.$a():0;if(c){x=0;for(t=f.length;x<t;x++)L+=b.eo(f[x].ua),ea+=b.fo(f[x].ua);A=c.xa;z=a.da(A.left,A.top,!0);B=a.da(A.left,A.top,!1);E=a.da(A.right,A.bottom,!0);F=a.da(A.right,A.bottom,!1);0!==pa&&(x=a.da(A.right,A.top,!0),t=a.da(A.right,A.top,!1),P=a.da(A.left,A.bottom,!0),H=a.da(A.left,A.bottom,!1),A=Math.min(z,E,x,P),E=Math.max(z,E,x,P),z=A,A=Math.min(B,F,t,H),F=Math.max(B,
F,t,H),B=A);z-=L;B-=ea;E+=L;F+=ea;y.left=z/N;y.top=1-B/J;y.right=E/N;y.bottom=1-F/J;P=z=Q(z);H=B=Q(B);ka=E=ra(E);la=F=ra(F);P-=L;H-=ea;ka+=L;la+=ea;0>z&&(z=0);0>B&&(B=0);E>N&&(E=N);F>J&&(F=J);0>P&&(P=0);0>H&&(H=0);ka>N&&(ka=N);la>J&&(la=J);S.left=z/N;S.top=1-B/J;S.right=E/N;S.bottom=1-F/J}else S.left=y.left=0,S.top=y.top=0,S.right=y.right=1,S.bottom=y.bottom=1;ea=c&&((c.i||pa)&&b.yf(f[0].ua)||0!==L||0!==ea||1!==c.opacity||c.type.ga.Fk)||a&&!c&&1!==a.opacity;b.il();if(ea){q[I]||(q[I]=b.oc(N,J,this.b.I));
if(q[I].Pe!==N||q[I].Oe!==J)b.deleteTexture(q[I]),q[I]=b.oc(N,J,this.b.I);b.gc(0);b.fc(q[I]);ja=la-H;b.clearRect(P,J-H-ja,ka-P,ja);c?c.Ib(b):(b.eb(this.b.cb),b.ye(a.opacity),b.ec(),b.translate(-za,-aa),b.ic(),b.md(z,F,E,F,E,B,z,B,S));y.left=y.top=0;y.right=y.bottom=1;c&&(A=S.top,S.top=S.bottom,S.bottom=A);I=1;Na=0}b.ye(1);L=f.length-1;var pa=b.si(f[L].ua)||!a&&!c&&!this.b.qb,qa=0;x=0;for(t=f.length;x<t;x++){q[I]||(q[I]=b.oc(N,J,this.b.I));if(q[I].Pe!==N||q[I].Oe!==J)b.deleteTexture(q[I]),q[I]=b.oc(N,
J,this.b.I);b.gc(f[x].ua);qa=f[x].index;b.Cg(f[x].ua)&&(this.b.L=!0);0!=x||ea?(b.ze(d,1/N,1/J,y.left,y.top,y.right,y.bottom,h,n,e,g,(e+l)/2,(g+r)/2,c?c.R[qa]:a?a.R[qa]:this.R[qa]),b.eb(null),x!==L||pa?(b.fc(q[I]),ja=la-H,A=J-H-ja,b.clearRect(P,A,ka-P,ja)):(c?b.od(c.Ba,c.za):a&&b.od(a.Ba,a.za),b.fc(d)),b.eb(q[Na]),b.ec(),b.translate(-za,-aa),b.ic(),b.md(z,F,E,F,E,B,z,B,S),x!==L||pa||b.eb(null)):(b.fc(q[I]),ja=la-H,A=J-H-ja,b.clearRect(P,A,ka-P,ja),c?(b.ze(d,1/c.width,1/c.height,y.left,y.top,y.right,
y.bottom,h,n,e,g,(e+l)/2,(g+r)/2,c.R[qa]),c.Ib(b)):(b.ze(d,1/N,1/J,0,0,1,1,h,n,e,g,(e+l)/2,(g+r)/2,a?a.R[qa]:this.R[qa]),b.eb(a?this.b.cb:this.b.Qa),b.ec(),b.translate(-za,-aa),b.ic(),b.md(z,F,E,F,E,B,z,B,S)),y.left=y.top=0,y.right=y.bottom=1,c&&!pa&&(A=F,F=B,B=A));I=0===I?1:0;Na=0===I?1:0}pa&&(b.gc(0),c?b.od(c.Ba,c.za):a?b.od(a.Ba,a.za):this.b.qb||(b.Ae(this.b.width,this.b.height),za=this.b.width/2,aa=this.b.height/2,B=z=0,E=this.b.width,F=this.b.height),b.fc(d),b.eb(q[Na]),b.ec(),b.translate(-za,
-aa),b.ic(),c&&1===f.length&&!ea?b.md(z,B,E,B,E,F,z,F,S):b.md(z,F,E,F,E,B,z,B,S),b.eb(null))};l.prototype.bg=function(b){var a,c;a=0;for(c=this.u.length;a<c;a++)if(this.u[a].D===b)return this.u[a];return null};l.prototype.Pb=function(){var b,a,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.i,w:this.width,h:this.height,fv:this.fe,persist:this.kd,fx:[],layers:{}};b=0;for(a=this.q.length;b<a;b++)c=this.q[b],d.fx.push({name:c.name,active:c.Ya,params:this.R[c.index]});b=0;for(a=this.u.length;b<
a;b++)c=this.u[b],d.layers[c.D.toString()]=c.Pb();return d};l.prototype.zc=function(b){var a,c,d,f;this.scrollX=b.sx;this.scrollY=b.sy;this.scale=b.s;this.i=b.a;this.width=b.w;this.height=b.h;this.kd=b.persist;"undefined"!==typeof b.fv&&(this.fe=b.fv);var h=b.fx;a=0;for(c=h.length;a<c;a++)if(d=this.Fh(h[a].name))d.Ya=h[a].active,this.R[d.index]=h[a].params;this.Jc();a=b.layers;for(f in a)a.hasOwnProperty(f)&&(b=this.bg(parseInt(f,10)))&&b.zc(a[f])};tb=l;g.prototype.Jc=function(){this.H.length=0;var b,
a,c;b=0;for(a=this.q.length;b<a;b++)c=this.q[b],c.Ya&&this.H.push(c)};g.prototype.Fh=function(b){var a,c,d;a=0;for(c=this.q.length;a<c;a++)if(d=this.q[a],d.name===b)return d;return null};g.prototype.Om=function(){var b,a,d,f,h,g;a=b=0;for(d=this.bb.length;b<d;b++){f=this.bb[b];h=this.b.j[f[1]];g=this.b.Pi(h);h=!0;if(!g||this.ma.fe)f=this.b.yd(f,this,!0),c.push(f),f.type.global&&(h=!1,this.Se.push(f.uid));h&&(this.bb[a]=this.bb[b],a++)}this.bb.length=a;this.b.wa();!this.b.n&&this.q.length&&(this.Fa=
this.jn);this.Re=Xa(this.Fa);this.b.g&&Ya(this,this.Fa,this.b.g);this.Ec=!0};g.prototype.we=function(b,a){var c=ya(this.d,b);0>c||(a&&this.Qb&&b.Ha&&b.Ha.right>=b.Ha.left&&(b.pa(),this.Sa.update(b,b.Ha,null),b.Ha.set(0,0,-1,-1)),c===this.d.length-1?this.d.pop():(va(this.d,c),this.Bf(c)),this.Ec=!0)};g.prototype.Le=function(b,a){b.Rb=this.d.length;this.d.push(b);a&&this.Qb&&b.Ha&&b.ja();this.Ec=!0};g.prototype.gp=function(b){this.d.unshift(b);this.Bf(0)};g.prototype.Qo=function(b,a,c){var d=b.Yb();
a=a.Yb();va(this.d,d);d<a&&a--;c&&a++;a===this.d.length?this.d.push(b):this.d.splice(a,0,b);this.Bf(d<a?d:a)};g.prototype.Bf=function(b){-1===this.Lc?this.Lc=b:b<this.Lc&&(this.Lc=b);this.Ec=this.Ud=!0};g.prototype.Ti=function(){if(this.Ud){-1===this.Lc&&(this.Lc=0);var b,a,c;if(this.Qb)for(b=this.Lc,a=this.d.length;b<a;++b)c=this.d[b],c.Rb=b,this.Sa.Oo(c.Ha);else for(b=this.Lc,a=this.d.length;b<a;++b)this.d[b].Rb=b;this.Ud=!1;this.Lc=-1}};g.prototype.ab=function(b){return this.bo()*(this.b.qb||b?
this.b.Me:1)};g.prototype.bo=function(){return(this.scale*this.ma.scale-1)*this.Mc+1};g.prototype.$a=function(){return this.Ad?0:Da(this.ma.i+this.i)};var d=[],f=[],h=[];g.prototype.Pj=function(){this.Ti();this.Sa.al(this.U,this.V,this.ba,this.aa,h);if(!h.length)return q();if(1===h.length){var b=q();wa(b,h[0]);h.length=0;return b}for(var a=!0;1<h.length;){for(var b=h,c=void 0,d=void 0,p=void 0,g=void 0,n=void 0,c=0,d=b.length;c<d-1;c+=2){var p=b[c],g=b[c+1],n=q(),e=p,v=g,l=n,r=0,D=0,x=0,Z=e.length,
L=v.length,A=void 0,I=void 0;for(l.length=Z+L;r<Z&&D<L;++x)A=e[r],I=v[D],A.Rb<I.Rb?(l[x]=A,++r):(l[x]=I,++D);for(;r<Z;++r,++x)l[x]=e[r];for(;D<L;++D,++x)l[x]=v[D];a||(t(p),t(g));f.push(n)}1===d%2&&(a?(p=q(),wa(p,b[d-1]),f.push(p)):f.push(b[d-1]));wa(b,f);f.length=0;a=!1}b=h[0];h.length=0;return b};g.prototype.rc=function(b){this.nd=this.Ah||1!==this.opacity||0!==this.Fa;var a=this.b.canvas,c=b,d=!1;this.nd&&(this.b.qg||(this.b.qg=document.createElement("canvas"),a=this.b.qg,a.width=this.b.C,a.height=
this.b.B,this.b.jk=a.getContext("2d"),d=!0),a=this.b.qg,c=this.b.jk,a.width!==this.b.C&&(a.width=this.b.C,d=!0),a.height!==this.b.B&&(a.height=this.b.B,d=!0),d&&(c.webkitImageSmoothingEnabled=this.b.I,c.mozImageSmoothingEnabled=this.b.I,c.msImageSmoothingEnabled=this.b.I,c.imageSmoothingEnabled=this.b.I),this.Ic&&c.clearRect(0,0,this.b.C,this.b.B));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Ic||(c.fillStyle="rgb("+this.Qc[0]+","+this.Qc[1]+","+this.Qc[2]+")",c.fillRect(0,0,this.b.C,
this.b.B));c.save();this.Ad=!0;var d=this.Ja(0,0,!0,!0),f=this.Ja(0,0,!1,!0);this.Ad=!1;this.b.ld&&(d=Math.round(d),f=Math.round(f));this.Ci(d,f,c);var h=this.ab();c.scale(h,h);c.translate(-d,-f);this.Qb?(this.pb.left=this.Sa.Wa(this.U),this.pb.top=this.Sa.Xa(this.V),this.pb.right=this.Sa.Wa(this.ba),this.pb.bottom=this.Sa.Xa(this.aa),this.Ec||!this.pb.Uf(this.mg)?(t(this.ne),d=this.Pj(),this.Ec=!1,this.mg.Of(this.pb)):d=this.ne):d=this.d;for(var n,e=null,f=0,h=d.length;f<h;++f)n=d[f],n!==e&&(this.en(n,
c),e=n);this.Qb&&(this.ne=d);c.restore();this.nd&&(b.globalCompositeOperation=this.Re,b.globalAlpha=this.opacity,b.drawImage(a,0,0))};g.prototype.en=function(b,a){if(b.visible&&0!==b.width&&0!==b.height){b.pa();var c=b.xa;c.right<this.U||c.bottom<this.V||c.left>this.ba||c.top>this.aa||(a.globalCompositeOperation=b.Re,b.rc(a))}};g.prototype.Si=function(){this.Ad=!0;var b=this.Ja(0,0,!0,!0),a=this.Ja(0,0,!1,!0);this.Ad=!1;this.b.ld&&(b=Math.round(b),a=Math.round(a));this.Ci(b,a,null)};g.prototype.Ci=
function(b,a,c){var d=this.ab();this.U=b;this.V=a;this.ba=b+1/d*this.b.C;this.aa=a+1/d*this.b.B;b=this.$a();0!==b&&(c&&(c.translate(this.b.C/2,this.b.B/2),c.rotate(-b),c.translate(this.b.C/-2,this.b.B/-2)),this.Hc.set(this.U,this.V,this.ba,this.aa),this.Hc.offset((this.U+this.ba)/-2,(this.V+this.aa)/-2),this.Bl.kl(this.Hc,b),this.Bl.nj(this.Hc),this.Hc.offset((this.U+this.ba)/2,(this.V+this.aa)/2),this.U=this.Hc.left,this.V=this.Hc.top,this.ba=this.Hc.right,this.aa=this.Hc.bottom)};g.prototype.Ib=
function(b){var a=0,c=0;if(this.nd=this.Ah||1!==this.opacity||0<this.H.length||0!==this.Fa){this.b.cb||(this.b.cb=b.oc(this.b.C,this.b.B,this.b.I));if(this.b.cb.Pe!==this.b.C||this.b.cb.Oe!==this.b.B)b.deleteTexture(this.b.cb),this.b.cb=b.oc(this.b.C,this.b.B,this.b.I);b.fc(this.b.cb);this.Ic&&b.clear(0,0,0,0)}this.Ic||b.clear(this.Qc[0]/255,this.Qc[1]/255,this.Qc[2]/255,1);this.Ad=!0;var d=this.Ja(0,0,!0,!0),a=this.Ja(0,0,!1,!0);this.Ad=!1;this.b.ld&&(d=Math.round(d),a=Math.round(a));this.Ci(d,a,
null);d=this.ab();b.ec();b.scale(d,d);b.Di(-this.$a());b.translate((this.U+this.ba)/-2,(this.V+this.aa)/-2);b.ic();this.Qb?(this.pb.left=this.Sa.Wa(this.U),this.pb.top=this.Sa.Xa(this.V),this.pb.right=this.Sa.Wa(this.ba),this.pb.bottom=this.Sa.Xa(this.aa),this.Ec||!this.pb.Uf(this.mg)?(t(this.ne),a=this.Pj(),this.Ec=!1,this.mg.Of(this.pb)):a=this.ne):a=this.d;var f,h,n=null,c=0;for(f=a.length;c<f;++c)h=a[c],h!==n&&(this.gn(a[c],b),n=h);this.Qb&&(this.ne=a);this.nd&&(a=this.H.length?this.H[0].ua:0,
c=this.H.length?this.H[0].index:0,0===this.H.length||1===this.H.length&&!b.si(a)&&1===this.opacity?(1===this.H.length?(b.gc(a),b.ze(this.ma.Ze(),1/this.b.C,1/this.b.B,0,0,1,1,d,this.$a(),this.U,this.V,(this.U+this.ba)/2,(this.V+this.aa)/2,this.R[c]),b.Cg(a)&&(this.b.L=!0)):b.gc(0),b.fc(this.ma.Ze()),b.ye(this.opacity),b.eb(this.b.cb),b.od(this.Ba,this.za),b.ec(),b.ic(),d=this.b.C/2,a=this.b.B/2,b.Eg(-d,a,d,a,d,-a,-d,-a),b.eb(null)):this.ma.Ai(b,this,null,this.ma.Ze()))};g.prototype.gn=function(a,
c){if(a.visible&&0!==a.width&&0!==a.height){a.pa();var d=a.xa;d.right<this.U||d.bottom<this.V||d.left>this.ba||d.top>this.aa||(a.Nl?this.hn(a,c):(c.gc(0),c.od(a.Ba,a.za),a.Ib(c)))}};g.prototype.hn=function(a,c){var d=a.H[0].ua,f=a.H[0].index,h=this.ab();if(1!==a.H.length||c.si(d)||c.ip(d)||(a.i||a.e.$a())&&c.yf(d)||1!==a.opacity||a.type.ga.Fk)this.ma.Ai(c,this,a,this.nd?this.b.cb:this.ma.Ze()),c.ec(),c.scale(h,h),c.Di(-this.$a()),c.translate((this.U+this.ba)/-2,(this.V+this.aa)/-2),c.ic();else{c.gc(d);
c.od(a.Ba,a.za);c.Cg(d)&&(this.b.L=!0);var g=0,n=0,e=0,v=0;c.yf(d)&&(d=a.xa,g=this.da(d.left,d.top,!0),n=this.da(d.left,d.top,!1),e=this.da(d.right,d.bottom,!0),d=this.da(d.right,d.bottom,!1),g=g/windowWidth,n=1-n/windowHeight,e=e/windowWidth,v=1-d/windowHeight);c.ze(this.nd?this.b.cb:this.ma.Ze(),1/a.width,1/a.height,g,n,e,v,h,this.$a(),this.U,this.V,(this.U+this.ba)/2,(this.V+this.aa)/2,a.R[f]);a.Ib(c)}};g.prototype.Ja=function(a,c,d,f){var h=this.b.devicePixelRatio;this.b.ge&&(a*=h,c*=h);var h=
this.b.Qk,g=this.b.Rk,h=(this.ma.scrollX-h)*this.Cc+h,g=(this.ma.scrollY-g)*this.Dc+g,n=h,e=g,v=1/this.ab(!f);f?(n-=this.b.C*v/2,e-=this.b.B*v/2):(n-=this.b.width*v/2,e-=this.b.height*v/2);n+=a*v;e+=c*v;c=this.$a();0!==c&&(n-=h,e-=g,a=Math.cos(c),c=Math.sin(c),f=n*a-e*c,e=e*a+n*c,n=f+h,e+=g);return d?n:e};g.prototype.da=function(a,c,d){var f=this.b.Qk,h=this.b.Rk,f=(this.ma.scrollX-f)*this.Cc+f,g=(this.ma.scrollY-h)*this.Dc+h,h=f,n=g,e=this.$a();if(0!==e){a-=f;c-=g;var v=Math.cos(-e),e=Math.sin(-e),
l=a*v-c*e;c=c*v+a*e;a=l+f;c+=g}f=1/this.ab(!1);h-=this.b.C*f/2;n-=this.b.B*f/2;h=(a-h)/f;return d?h:(c-n)/f};g.prototype.Pb=function(){var a,c,d,f={s:this.scale,a:this.i,vl:this.U,vt:this.V,vr:this.ba,vb:this.aa,v:this.visible,bc:this.Qc,t:this.Ic,px:this.Cc,py:this.Dc,o:this.opacity,zr:this.Mc,fx:[],cg:this.Se,instances:[]};a=0;for(c=this.q.length;a<c;a++)d=this.q[a],f.fx.push({name:d.name,active:d.Ya,params:this.R[d.index]});return f};g.prototype.zc=function(a){var c,d,f;this.scale=a.s;this.i=a.a;
this.U=a.vl;this.V=a.vt;this.ba=a.vr;this.aa=a.vb;this.visible=a.v;this.Qc=a.bc;this.Ic=a.t;this.Cc=a.px;this.Dc=a.py;this.opacity=a.o;this.Mc=a.zr;this.Se=a.cg||[];wa(this.bb,this.rl);var h=new K;c=0;for(f=this.Se.length;c<f;++c)h.add(this.Se[c]);d=c=0;for(f=this.bb.length;c<f;++c)h.contains(this.bb[c][2])||(this.bb[d]=this.bb[c],++d);this.bb.length=d;d=a.fx;c=0;for(f=d.length;c<f;c++)if(a=this.Fh(d[c].name))a.Ya=d[c].active,this.R[a.index]=d[c].params;this.Jc();this.d.sort(r);this.Ud=!0};Hb=g})();
(function(){function l(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function r(a,b){return a.index-b.index}function g(a){var b,c,d,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(r);a.length>=p.length&&(p.length=a.length+1);p[a.length]||(p[a.length]=[]);f=p[a.length];b=0;for(c=f.length;b<c;b++)if(d=f[b],l(a,d))return d;f.push(a);return a}
function q(a,b){this.b=a;this.El={};this.Dj={};this.Oh=!1;this.Sj=new K;this.sh=[];this.Zg=[];this.name=b[0];var c=b[1];this.Wc=[];var d,f;d=0;for(f=c.length;d<f;d++)this.Uj(c[d],null,this.Wc)}function t(a){this.type=a;this.d=[];this.G=[];this.T=!0}function c(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Y=[];this.pd=[];this.Rj=this.Ng=this.Mi=this.Rh=this.group=this.ql=!1;this.ya=[];this.Eb=[];this.zb=[];this.cf="";this.bf=this.Rh=this.group=!1;this.Nf=null;c[1]&&(this.cf=c[1][1].toLowerCase(),
this.group=!0,this.Rh=!!c[1][0],this.Nf=[],this.bf=this.Rh,this.b.$d.push(this),this.b.eg[this.cf]=this);this.ac=c[2];this.D=c[4];this.group||(this.b.mj[this.D.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var f=new Ib(this,d[a]);f.index=a;this.ya.push(f);this.bj(f.type)}d=c[6];a=0;for(b=d.length;a<b;a++)f=new Jb(this,d[a]),f.index=a,this.Eb.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Uj(c[a],this,this.zb);this.kg=!1;this.ya.length&&(this.kg=null==this.ya[0].type&&
this.ya[0].qa==X.prototype.k.Ul)}function a(a,b){var c,d,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Lb))for(c=0,d=a.Ka.length;c<d;c++)f=a.Ka[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function d(a,b){this.Za=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.S=[];this.W={};this.index=-1;this.Je=!1;this.qa=this.b.Nc(b[1]);this.trigger=0<b[3];this.Cj=2===b[3];this.Uh=b[5];this.Ko=b[6];this.D=b[7];this.b.ae[this.D.toString()]=this;-1===b[0]?(this.type=null,this.ia=this.Gi,this.wd=null,this.Gb=-1):(this.type=this.b.j[b[0]],
this.ia=this.Ko?this.pp:this.Fi,b[2]?(this.wd=this.type.ag(b[2]),this.Gb=this.type.Eh(b[2])):(this.wd=null,this.Gb=-1),this.Za.parent&&this.Za.parent.Gg());this.Cj&&(this.ia=this.qp);if(10===b.length){var c,d,f=b[9];c=0;for(d=f.length;c<d;c++){var m=new Kb(this,f[c]);this.A.push(m)}this.S.length=f.length}}function f(a,b){this.Za=a;this.sheet=a.sheet;this.b=a.b;this.A=[];this.S=[];this.W={};this.index=-1;this.Je=!1;this.qa=this.b.Nc(b[1]);-1===b[0]?(this.type=null,this.ia=this.Gi,this.wd=null,this.Gb=
-1):(this.type=this.b.j[b[0]],this.ia=this.Fi,b[2]?(this.wd=this.type.ag(b[2]),this.Gb=this.type.Eh(b[2])):(this.wd=null,this.Gb=-1));this.D=b[3];this.b.Zd[this.D.toString()]=this;if(6===b.length){var c,d,f=b[5];c=0;for(d=f.length;c<d;c++){var m=new Kb(this,f[c]);this.A.push(m)}this.S.length=f.length}}function h(){n++;w.length===n&&w.push(new Lb);return w[n]}function b(a,b){this.wb=a;this.Za=a.Za;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Wb=null;this.Fc=0;this.get=null;this.uj=0;this.ma=null;
this.key=0;this.object=null;this.index=0;this.Jf=this.Sd=this.Jf=this.Sd=this.Ej=this.Cd=this.Kf=null;this.Db=!1;var c,d,f;switch(b[0]){case 0:case 7:this.Wb=new V(this,b[1]);this.Fc=0;this.get=this.mo;break;case 1:this.Wb=new V(this,b[1]);this.Fc=0;this.get=this.no;break;case 5:this.Wb=new V(this,b[1]);this.Fc=0;this.get=this.ro;break;case 3:case 8:this.uj=b[1];this.get=this.ko;break;case 6:this.ma=this.b.di[b[1]];this.get=this.so;break;case 9:this.key=b[1];this.get=this.qo;break;case 4:this.object=
this.b.j[b[1]];this.get=this.to;this.Za.bj(this.object);this.wb instanceof Jb?this.Za.Gg():this.Za.parent&&this.Za.parent.Gg();break;case 10:this.index=b[1];a.type.F?(this.get=this.oo,this.Db=!0):this.get=this.po;break;case 11:this.Kf=b[1];this.Cd=null;this.get=this.lo;break;case 2:case 12:this.Ej=b[1];this.get=this.jo;break;case 13:for(this.get=this.uo,this.Sd=[],this.Jf=[],c=1,d=b.length;c<d;c++)f=new Kb(this.wb,b[c]),this.Sd.push(f),this.Jf.push(0)}}function k(a,b,c){this.sheet=a;this.parent=b;
this.b=a.b;this.Y=[];this.name=c[1];this.Qh=c[3];this.jf=!!c[4];this.jg=!!c[5];this.D=c[6];this.b.He[this.D.toString()]=this;this.data=this.Qh;this.parent?(this.Od=this.jf||this.jg?-1:this.b.xp++,this.b.Bm.push(this)):(this.Od=-1,this.b.Am.push(this))}function u(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Y=[];this.ef=null;this.zo=c[1];this.Ya=!0}function m(){this.sl=[];this.reset(null)}var p=[];q.prototype.toString=function(){return this.name};q.prototype.Uj=function(a,b,c){switch(a[0]){case 0:a=
new Mb(this,b,a);if(a.ac)for(c.push(a),c=0,b=a.ya.length;c<b;c++)a.ya[c].trigger&&this.Vj(a,c);else a.bk()?this.Vj(a,0):c.push(a);break;case 1:a=new Eb(this,b,a);c.push(a);break;case 2:a=new Nb(this,b,a),c.push(a)}};q.prototype.X=function(){var a,b;a=0;for(b=this.Wc.length;a<b;a++)this.Wc[a].X(a<b-1&&this.Wc[a+1].kg)};q.prototype.Qi=function(){this.sh.length=0;this.Zg.length=0;this.aj(this);this.Zg.length=0};q.prototype.aj=function(a){var b,c,d,f,m=a.sh,h=a.Zg,k=this.Sj.sd();b=0;for(c=k.length;b<
c;++b)d=k[b],f=d.ef,!d.Ya||a===f||-1<h.indexOf(f)||(h.push(f),f.aj(a),m.push(f))};q.prototype.ia=function(a){this.b.Zq||(this.Oh=!0,a||(this.b.Xh=!0));var b,c;b=0;for(c=this.Wc.length;b<c;b++){var d=this.Wc[b];d.ia();this.b.nh(d.Y);this.b.Yc&&this.b.wa()}a||(this.b.Xh=!1)};q.prototype.Vj=function(a,b){a.ac||this.b.Pg.push(a);var c,d,f=a.ya[b],m;f.type?m=f.type.name:m="system";var h=(c=f.Cj)?this.Dj:this.El;h[m]||(h[m]=[]);m=h[m];h=f.qa;if(c){if(f.A.length&&(f=f.A[0],1===f.type&&2===f.Wb.type)){f=
f.Wb.value.toLowerCase();c=0;for(d=m.length;c<d;c++)if(m[c].method==h){c=m[c].We;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];m.push({method:h,We:c})}}else{c=0;for(d=m.length;c<d;c++)if(m[c].method==h){m[c].We.push([a,b]);return}Zb&&h===Zb.prototype.k.Yd?m.unshift({method:h,We:[[a,b]]}):m.push({method:h,We:[[a,b]]})}};ub=q;t.prototype.Nh=function(){return this.T?this.type.d.length:this.d.length};t.prototype.Jb=function(){return this.T?this.type.d:this.d};t.prototype.xf=function(a){a&&
(a.b.Ma().Hb.ac?(this.T&&(this.d.length=0,wa(this.G,a.type.d),this.T=!1),a=this.G.indexOf(a),-1!==a&&(this.d.push(this.G[a]),this.G.splice(a,1))):(this.T=!1,this.d.length=1,this.d[0]=a))};db=t;window._c2hh_="32E7700C3F99B9E82BD019DE664EEEDB2562788F";c.prototype.X=function(a){var b,c=this.parent;if(this.group)for(this.Ng=!0;c;){if(!c.group){this.Ng=!1;break}c=c.parent}this.Mi=!this.bk()&&(!this.parent||this.parent.group&&this.parent.Ng);this.Rj=!!a;this.pd=this.Y.slice(0);for(c=this.parent;c;){a=0;
for(b=c.Y.length;a<b;a++)this.ym(c.Y[a]);c=c.parent}this.Y=g(this.Y);this.pd=g(this.pd);a=0;for(b=this.ya.length;a<b;a++)this.ya[a].X();a=0;for(b=this.Eb.length;a<b;a++)this.Eb[a].X();a=0;for(b=this.zb.length;a<b;a++)this.zb[a].X(a<b-1&&this.zb[a+1].kg)};c.prototype.tp=function(a){if(this.bf!==!!a){this.bf=!!a;var b;a=0;for(b=this.Nf.length;a<b;++a)this.Nf[a].Ll();0<b&&this.b.M.Bd&&this.b.M.Bd.Qi()}};c.prototype.bj=function(b){a(b,this.Y)};c.prototype.ym=function(b){a(b,this.pd)};c.prototype.Gg=function(){this.ql=
!0;this.parent&&this.parent.Gg()};c.prototype.bk=function(){return this.ya.length?this.ya[0].trigger:!1};c.prototype.ia=function(){var a,b=!1,c,d=this.b,f=this.b.Ma();f.Hb=this;var m=this.ya;this.kg||(f.uh=!1);if(this.ac){0===m.length&&(b=!0);f.Ga=0;for(a=m.length;f.Ga<a;f.Ga++)m[f.Ga].trigger||(c=m[f.Ga].ia())&&(b=!0);(f.Jd=b)&&this.Ei()}else{f.Ga=0;for(a=m.length;f.Ga<a;f.Ga++)if(c=m[f.Ga].ia(),!c){f.Jd=!1;this.Mi&&d.Yc&&d.wa();return}f.Jd=!0;this.Ei()}this.ln(f)};c.prototype.ln=function(a){a.Jd&&
this.Rj&&(a.uh=!0);this.Mi&&this.b.Yc&&this.b.wa()};c.prototype.np=function(a){this.b.Ma().Hb=this;this.ya[a].ia()&&(this.Ei(),this.b.Ma().Jd=!0)};c.prototype.Ei=function(){var a=this.b.Ma(),b;a.ib=0;for(b=this.Eb.length;a.ib<b;a.ib++)if(this.Eb[a.ib].ia())return;this.el()};c.prototype.lp=function(){var a=this.b.Ma(),b;for(b=this.Eb.length;a.ib<b;a.ib++)if(this.Eb[a.ib].ia())return;this.el()};c.prototype.el=function(){if(this.zb.length){var a,b,c,d,f=this.zb.length-1;this.b.vi(this);if(this.ql)for(a=
0,b=this.zb.length;a<b;a++)c=this.zb[a],(d=!this.Ng||!this.group&&a<f)&&this.b.ti(c.Y),c.ia(),d?this.b.te(c.Y):this.b.nh(c.Y);else for(a=0,b=this.zb.length;a<b;a++)this.zb[a].ia();this.b.Vk()}};c.prototype.op=function(){var a=this.b.Ma();a.Hb=this;var b=!1,c;a.Ga=0;for(c=this.ya.length;a.Ga<c;a.Ga++)if(this.ya[a.Ga].ia())b=!0;else if(!this.ac)return!1;return this.ac?b:!0};c.prototype.Fo=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.ya[b].type===a.type)return!1;return!0};Mb=
c;d.prototype.X=function(){var a,b,c;a=0;for(b=this.A.length;a<b;a++)c=this.A[a],c.X(),c.Db&&(this.Je=!0)};d.prototype.qp=function(){return!0};d.prototype.Gi=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.S[a]=this.A[a].get();return Ka(this.qa.apply(this.b.hc,this.S),this.Uh)};d.prototype.pp=function(){var a,b;a=0;for(b=this.A.length;a<b;a++)this.S[a]=this.A[a].get();a=this.qa.apply(this.wd?this.wd:this.type,this.S);this.type.Pc();return a};d.prototype.Fi=function(){var a,b,c,d,f,m,h,k,n=
this.type,g=n.N(),p=this.Za.ac&&!this.trigger;b=0;var l=n.Lb,r=n.F,q=n.tc,w=this.Gb,u=-1<w,t=this.Je,y=this.A,z=this.S,P=this.Uh,B=this.qa,H;if(t)for(b=0,f=y.length;b<f;++b)m=y[b],m.Db||(z[b]=m.get(0));else for(b=0,f=y.length;b<f;++b)z[b]=y[b].get(0);if(g.T){g.d.length=0;g.G.length=0;H=n.d;a=0;for(d=H.length;a<d;++a){k=H[a];if(t)for(b=0,f=y.length;b<f;++b)m=y[b],m.Db&&(z[b]=m.get(a));u?(b=0,r&&(b=k.type.ee[q]),b=B.apply(k.r[w+b],z)):b=B.apply(k,z);(h=Ka(b,P))?g.d.push(k):p&&g.G.push(k)}n.finish&&
n.finish(!0);g.T=!1;n.Pc();return g.Nh()}c=0;H=(h=p&&!this.Za.Fo(this))?g.G:g.d;var E=!1;a=0;for(d=H.length;a<d;++a){k=H[a];if(t)for(b=0,f=y.length;b<f;++b)m=y[b],m.Db&&(z[b]=m.get(a));u?(b=0,r&&(b=k.type.ee[q]),b=B.apply(k.r[w+b],z)):b=B.apply(k,z);if(Ka(b,P))if(E=!0,h){if(g.d.push(k),l)for(b=0,f=k.siblings.length;b<f;b++)m=k.siblings[b],m.type.N().d.push(m)}else{H[c]=k;if(l)for(b=0,f=k.siblings.length;b<f;b++)m=k.siblings[b],m.type.N().d[c]=m;c++}else if(h){H[c]=k;if(l)for(b=0,f=k.siblings.length;b<
f;b++)m=k.siblings[b],m.type.N().G[c]=m;c++}else if(p&&(g.G.push(k),l))for(b=0,f=k.siblings.length;b<f;b++)m=k.siblings[b],m.type.N().G.push(m)}H.length=c;if(l)for(r=n.Ka,a=0,d=r.length;a<d;a++)k=r[a].N(),h?k.G.length=c:k.d.length=c;c=E;if(h&&!E)for(a=0,d=g.d.length;a<d;a++){k=g.d[a];if(t)for(b=0,f=y.length;b<f;b++)m=y[b],m.Db&&(z[b]=m.get(a));b=u?B.apply(k.r[w],z):B.apply(k,z);if(Ka(b,P)){E=!0;break}}n.finish&&n.finish(c||p);return p?E:g.Nh()};Ib=d;f.prototype.X=function(){var a,b,c;a=0;for(b=this.A.length;a<
b;a++)c=this.A[a],c.X(),c.Db&&(this.Je=!0)};f.prototype.Gi=function(){var a=this.b,b,c,d=this.A,f=this.S;b=0;for(c=d.length;b<c;++b)f[b]=d[b].get();return this.qa.apply(a.hc,f)};f.prototype.Fi=function(){var a=this.type,b=this.Gb,c=a.tc,d=this.Je,f=this.A,m=this.S,h=this.qa,k=a.N().Jb(),a=a.F,n=-1<b,g,p,l,r,q,w;if(d)for(p=0,r=f.length;p<r;++p)q=f[p],q.Db||(m[p]=q.get(0));else for(p=0,r=f.length;p<r;++p)m[p]=f[p].get(0);g=0;for(l=k.length;g<l;++g){w=k[g];if(d)for(p=0,r=f.length;p<r;++p)q=f[p],q.Db&&
(m[p]=q.get(g));n?(p=0,a&&(p=w.type.ee[c]),h.apply(w.r[b+p],m)):h.apply(w,m)}return!1};Jb=f;var w=[],n=-1;b.prototype.X=function(){var a,b;if(11===this.type)this.Cd=this.b.Kj(this.Kf,this.Za.parent);else if(13===this.type)for(a=0,b=this.Sd.length;a<b;a++)this.Sd[a].X();this.Wb&&this.Wb.X()};b.prototype.Po=function(a){this.Db||!a||a.ga.Ig||(this.Db=!0)};b.prototype.jl=function(){this.Db=!0};b.prototype.mo=function(a){this.Fc=a||0;a=h();this.Wb.get(a);n--;return a.data};b.prototype.no=function(a){this.Fc=
a||0;a=h();this.Wb.get(a);n--;return O(a.data)?a.data:""};b.prototype.to=function(){return this.object};b.prototype.ko=function(){return this.uj};b.prototype.ro=function(a){this.Fc=a||0;a=h();this.Wb.get(a);n--;return a.la()?this.b.Ye(a.data):this.b.Ih(a.data)};b.prototype.so=function(){return this.ma};b.prototype.qo=function(){return this.key};b.prototype.po=function(){return this.index};b.prototype.oo=function(a){a=a||0;var b=this.wb.type,c=null,c=b.N(),d=c.Jb();if(d.length)c=d[a%d.length].type;
else if(c.G.length)c=c.G[a%c.G.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.Xf[b.tc]};b.prototype.lo=function(){return this.Cd};b.prototype.jo=function(){return this.Ej};b.prototype.uo=function(){var a,b;a=0;for(b=this.Sd.length;a<b;a++)this.Jf[a]=this.Sd[a].get();return this.Jf};Kb=b;k.prototype.X=function(){this.Y=g(this.Y)};k.prototype.up=function(a){var b=this.b.Ij();this.parent&&!this.jf&&b?(this.Od>=b.length&&(b.length=this.Od+1),b[this.Od]=a):this.data=
a};k.prototype.io=function(){var a=this.b.Ij();return!this.parent||this.jf||!a||this.jg?this.data:this.Od>=a.length||"undefined"===typeof a[this.Od]?this.Qh:a[this.Od]};k.prototype.ia=function(){!this.parent||this.jf||this.jg||this.up(this.Qh)};Eb=k;u.prototype.toString=function(){return"include:"+this.ef.toString()};u.prototype.X=function(){this.ef=this.b.wh[this.zo];this.sheet.Sj.add(this);this.Y=g(this.Y);for(var a=this.parent;a;)a.group&&a.Nf.push(this),a=a.parent;this.Ll()};u.prototype.ia=function(){this.parent&&
this.b.Af(this.b.j);this.ef.Oh||this.ef.ia(!0);this.parent&&this.b.te(this.b.j)};u.prototype.Ll=function(){for(var a=this.parent;a;){if(a.group&&!a.bf){this.Ya=!1;return}a=a.parent}this.Ya=!0};Nb=u;m.prototype.reset=function(a){this.Hb=a;this.ib=this.Ga=0;this.sl.length=0;this.uh=this.Jd=!1};Db=m})();
(function(){function l(a,c){this.wb=a;this.b=a.b;this.type=c[0];this.get=[this.Dn,this.zn,this.Mn,this.Pn,this.nn,this.Nn,this.Hn,this.wn,this.Gn,this.Ln,this.pn,this.Kn,this.xn,this.In,this.En,this.Fn,this.An,this.Bn,this.vn,this.On,this.Jn,this.Cn,this.un,this.yn][this.type];var f=null;this.Ac=this.A=this.S=this.qa=this.Mg=this.second=this.first=this.value=null;this.Gb=-1;this.Kb=null;this.Ol=-1;this.Cd=this.Kf=null;this.xe=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new V(a,c[1]);break;case 18:this.first=new V(a,c[1]);this.second=new V(a,c[2]);this.Mg=new V(a,c[3]);break;case 19:this.qa=this.b.Nc(c[1]);this.qa!==X.prototype.Xb.random&&this.qa!==X.prototype.Xb.Jm||this.wb.jl();this.S=[];this.A=[];3===c.length?(f=c[2],this.S.length=f.length+1):this.S.length=1;break;case 20:this.Ac=this.b.j[c[1]];this.Gb=-1;this.qa=this.b.Nc(c[2]);this.xe=c[3];Pb.Function&&this.qa===Pb.Function.prototype.Xb.Rp&&this.wb.jl();c[4]?this.Kb=new V(a,c[4]):this.Kb=null;this.S=[];this.A=
[];6===c.length?(f=c[5],this.S.length=f.length+1):this.S.length=1;break;case 21:this.Ac=this.b.j[c[1]];this.xe=c[2];c[3]?this.Kb=new V(a,c[3]):this.Kb=null;this.Ol=c[4];break;case 22:this.Ac=this.b.j[c[1]];this.Ac.ag(c[2]);this.Gb=this.Ac.Eh(c[2]);this.qa=this.b.Nc(c[3]);this.xe=c[4];c[5]?this.Kb=new V(a,c[5]):this.Kb=null;this.S=[];this.A=[];7===c.length?(f=c[6],this.S.length=f.length+1):this.S.length=1;break;case 23:this.Kf=c[1],this.Cd=null}this.wb.Po(this.Ac);4<=this.type&&17>=this.type&&(this.first=
new V(a,c[1]),this.second=new V(a,c[2]));if(f){var h,b;h=0;for(b=f.length;h<b;h++)this.A.push(new V(a,f[h]))}}function r(){++c;t.length===c&&t.push(new Lb);return t[c]}function g(a,c,f){var h,b;h=0;for(b=a.length;h<b;++h)a[h].get(f),c[h+1]=f.data}function q(a,c){this.type=a||W.Xd;this.data=c||0;this.Qd=null;this.type==W.Xd&&(this.data=Math.floor(this.data))}l.prototype.X=function(){23===this.type&&(this.Cd=this.wb.b.Kj(this.Kf,this.wb.Za.parent));this.first&&this.first.X();this.second&&this.second.X();
this.Mg&&this.Mg.X();this.Kb&&this.Kb.X();if(this.A){var a,c;a=0;for(c=this.A.length;a<c;a++)this.A[a].X()}};var t=[],c=-1;l.prototype.On=function(a){var d=this.A,f=this.S;f[0]=a;a=r();g(d,f,a);--c;this.qa.apply(this.b.hc,f)};l.prototype.Jn=function(a){var d=this.Ac,f=this.S,h=this.A,b=this.Kb,k=this.qa,l=this.wb.Fc,m=d.N(),p=m.Jb();if(!p.length)if(m.G.length)p=m.G;else{this.xe?a.Ta(""):a.O(0);return}f[0]=a;a.Qd=d;a=r();g(h,f,a);b&&(b.get(a),a.la()&&(l=a.data,p=d.d));--c;d=p.length;if(l>=d||l<=-d)l%=
d;0>l&&(l+=d);k.apply(p[l],f)};l.prototype.un=function(a){var d=this.Ac,f=this.S,h=this.A,b=this.Kb,k=this.Gb,l=this.qa,m=this.wb.Fc,p=d.N(),q=p.Jb();if(!q.length)if(p.G.length)q=p.G;else{this.xe?a.Ta(""):a.O(0);return}f[0]=a;a.Qd=d;a=r();g(h,f,a);b&&(b.get(a),a.la()&&(m=a.data,q=d.d));--c;h=q.length;if(m>=h||m<=-h)m%=h;0>m&&(m+=h);m=q[m];q=0;d.F&&(q=m.type.ee[d.tc]);l.apply(m.r[k+q],f)};l.prototype.Cn=function(a){var d=this.Kb,f=this.Ac,h=this.Ol,b=this.wb.Fc,k=f.N(),g=k.Jb();if(!g.length)if(k.G.length)g=
k.G;else{this.xe?a.Ta(""):a.O(0);return}if(d){k=r();d.get(k);if(k.la()){b=k.data;f=f.d;b%=f.length;0>b&&(b+=f.length);h=f[b].ca[h];O(h)?a.Ta(h):a.p(h);--c;return}--c}d=g.length;if(b>=d||b<=-d)b%=d;0>b&&(b+=d);b=g[b];g=0;f.F&&(g=b.type.Xf[f.tc]);h=b.ca[h+g];O(h)?a.Ta(h):a.p(h)};l.prototype.Dn=function(a){a.type=W.Xd;a.data=this.value};l.prototype.zn=function(a){a.type=W.Wd;a.data=this.value};l.prototype.Mn=function(a){a.type=W.String;a.data=this.value};l.prototype.Pn=function(a){this.first.get(a);
a.la()&&(a.data=-a.data)};l.prototype.nn=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data+=d.data,d.ie()&&a.qe());--c};l.prototype.Nn=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data-=d.data,d.ie()&&a.qe());--c};l.prototype.Hn=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data*=d.data,d.ie()&&a.qe());--c};l.prototype.wn=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data/=
d.data,a.qe());--c};l.prototype.Gn=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data%=d.data,d.ie()&&a.qe());--c};l.prototype.Ln=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data=Math.pow(a.data,d.data),d.ie()&&a.qe());--c};l.prototype.pn=function(a){this.first.get(a);var d=r();this.second.get(d);d.ke()||a.ke()?this.rn(a,d):this.qn(a,d);--c};l.prototype.rn=function(a,c){a.ke()&&c.ke()?this.tn(a,c):this.sn(a,c)};l.prototype.tn=function(a,
c){a.data+=c.data};l.prototype.sn=function(a,c){a.ke()?a.data+=(Math.round(1E10*c.data)/1E10).toString():a.Ta(a.data.toString()+c.data)};l.prototype.qn=function(a,c){a.O(a.data&&c.data?1:0)};l.prototype.Kn=function(a){this.first.get(a);var d=r();this.second.get(d);a.la()&&d.la()&&(a.data||d.data?a.O(1):a.O(0));--c};l.prototype.vn=function(a){this.first.get(a);a.data?this.second.get(a):this.Mg.get(a)};l.prototype.xn=function(a){this.first.get(a);var d=r();this.second.get(d);a.O(a.data===d.data?1:0);
--c};l.prototype.In=function(a){this.first.get(a);var d=r();this.second.get(d);a.O(a.data!==d.data?1:0);--c};l.prototype.En=function(a){this.first.get(a);var d=r();this.second.get(d);a.O(a.data<d.data?1:0);--c};l.prototype.Fn=function(a){this.first.get(a);var d=r();this.second.get(d);a.O(a.data<=d.data?1:0);--c};l.prototype.An=function(a){this.first.get(a);var d=r();this.second.get(d);a.O(a.data>d.data?1:0);--c};l.prototype.Bn=function(a){this.first.get(a);var d=r();this.second.get(d);a.O(a.data>=
d.data?1:0);--c};l.prototype.yn=function(a){var c=this.Cd.io();ga(c)?a.p(c):a.Ta(c)};V=l;q.prototype.ie=function(){return this.type===W.Wd};q.prototype.la=function(){return this.type===W.Xd||this.type===W.Wd};q.prototype.ke=function(){return this.type===W.String};q.prototype.qe=function(){this.ie()||(this.ke()&&(this.data=parseFloat(this.data)),this.type=W.Wd)};q.prototype.O=function(a){this.type=W.Xd;this.data=Math.floor(a)};q.prototype.p=function(a){this.type=W.Wd;this.data=a};q.prototype.Ta=function(a){this.type=
W.String;this.data=a};q.prototype.vp=function(a){ga(a)?(this.type=W.Wd,this.data=a):O(a)?(this.type=W.String,this.data=a.toString()):(this.type=W.Xd,this.data=0)};Lb=q;W={Xd:0,Wd:1,String:2}})();function X(l){this.b=l;this.Va=[]}
X.prototype.Pb=function(){var l={},r,g,q,t,c,a,d,f;l.waits=[];var h=l.waits,b;r=0;for(g=this.Va.length;r<g;r++){a=this.Va[r];b={t:a.time,st:a.wp,s:a.nl,ev:a.Ve.D,sm:[],sols:{}};a.Ve.Eb[a.ib]&&(b.act=a.Ve.Eb[a.ib].D);q=0;for(t=a.Y.length;q<t;q++)b.sm.push(a.Y[q].D);for(c in a.Ua)if(a.Ua.hasOwnProperty(c)){d=this.b.j[parseInt(c,10)];f={sa:a.Ua[c].fl,insts:[]};q=0;for(t=a.Ua[c].Hd.length;q<t;q++)f.insts.push(a.Ua[c].Hd[q].uid);b.sols[d.D.toString()]=f}h.push(b)}return l};
X.prototype.zc=function(l){l=l.waits;var r,g,q,t,c,a,d,f,h,b,k;r=this.Va.length=0;for(g=l.length;r<g;r++)if(a=l[r],f=this.b.mj[a.ev.toString()]){h=-1;q=0;for(t=f.Eb.length;q<t;q++)if(f.Eb[q].D===a.act){h=q;break}if(-1!==h){d={Ua:{},Y:[],xj:!1};d.time=a.t;d.wp=a.st||"";d.nl=!!a.s;d.Ve=f;d.ib=h;q=0;for(t=a.sm.length;q<t;q++)(f=this.b.dg(a.sm[q]))&&d.Y.push(f);for(c in a.sols)if(a.sols.hasOwnProperty(c)&&(f=this.b.dg(parseInt(c,10)))){h=a.sols[c];b={fl:h.sa,Hd:[]};q=0;for(t=h.insts.length;q<t;q++)(k=
this.b.Oj(h.insts[q]))&&b.Hd.push(k);d.Ua[f.index.toString()]=b}this.Va.push(d)}}};
(function(){function l(){}function r(){}var g=X.prototype;l.prototype.hm=function(){return!0};l.prototype.gm=function(){return!0};l.prototype.Ul=function(){var c=this.b.Ma();return c.uh?!1:!c.Jd};l.prototype.Yi=function(){return!0};l.prototype.dm=function(){return!0};l.prototype.Xg=function(){return!0};l.prototype.im=function(){return!0};l.prototype.Vg=function(){return!0};l.prototype.Ql=function(c,a,d){return Ha(T(c),T(d))<=T(a)};l.prototype.Xl=function(c,a){return U(T(c),T(a))};l.prototype.Wl=function(c,
a,d){c=Fa(c);a=Fa(a);d=Fa(d);return U(d,a)?U(c,a)&&!U(c,d):!(!U(c,a)&&U(c,d))};g.k=new l;var q=[],t=[];g.lc=new function(){};r.prototype["int"]=function(c,a){O(a)?(c.O(parseInt(a,10)),isNaN(c.data)&&(c.data=0)):c.O(a)};r.prototype["float"]=function(c,a){O(a)?(c.p(parseFloat(a)),isNaN(c.data)&&(c.data=0)):c.p(a)};r.prototype.random=function(c,a,d){void 0===d?c.p(Math.random()*a):c.p(Math.random()*(d-a)+a)};r.prototype.sqrt=function(c,a){c.p(Math.sqrt(a))};r.prototype.abs=function(c,a){c.p(Math.abs(a))};
r.prototype.round=function(c,a){c.O(Math.round(a))};r.prototype.floor=function(c,a){c.O(Math.floor(a))};r.prototype.ceil=function(c,a){c.O(Math.ceil(a))};r.prototype.sin=function(c,a){c.p(Math.sin(T(a)))};r.prototype.cos=function(c,a){c.p(Math.cos(T(a)))};r.prototype.tan=function(c,a){c.p(Math.tan(T(a)))};r.prototype.asin=function(c,a){c.p(Ba(Math.asin(a)))};r.prototype.acos=function(c,a){c.p(Ba(Math.acos(a)))};r.prototype.atan=function(c,a){c.p(Ba(Math.atan(a)))};r.prototype.exp=function(c,a){c.p(Math.exp(a))};
r.prototype.log10=function(c,a){c.p(Math.log(a)/Math.LN10)};r.prototype.max=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var d,f,h;d=2;for(f=arguments.length;d<f;d++)h=arguments[d],"number"===typeof h&&a<h&&(a=h);c.p(a)};r.prototype.min=function(c){var a=arguments[1];"number"!==typeof a&&(a=0);var d,f,h;d=2;for(f=arguments.length;d<f;d++)h=arguments[d],"number"===typeof h&&a>h&&(a=h);c.p(a)};r.prototype.be=function(c){c.p(this.b.be)};r.prototype.If=function(c){c.p(this.b.If)};r.prototype.time=
function(c){c.p(this.b.me.Ca)};r.prototype.Gc=function(c){c.O(this.b.Gc)};r.prototype.zg=function(c){c.O(this.b.zg)};r.prototype.Bh=function(c){c.O(this.b.Bh)};r.prototype.i=function(c,a,d,f,h){c.p(Ba(Ga(a,d,f,h)))};r.prototype.left=function(c,a,d){c.Ta(O(a)?a.substr(0,d):"")};r.prototype.right=function(c,a,d){c.Ta(O(a)?a.substr(a.length-d):"")};r.prototype.replace=function(c,a,d,f){O(a)&&O(d)&&O(f)?c.Ta(a.replace(new RegExp(Ta(d),"gi"),f)):c.Ta(O(a)?a:"")};r.prototype.trim=function(c,a){c.Ta(O(a)?
a.trim():"")};r.prototype.Jm=function(c){var a=Q(Math.random()*(arguments.length-1));c.vp(arguments[a+1])};r.prototype.oh=function(c){c.p(this.b.oh/1E3)};r.prototype.oe=function(c){c.p(this.b.oe)};g.Xb=new r;g.mp=function(){var c,a,d,f,h,b,k=this.b.Ma();c=0;for(d=this.Va.length;c<d;c++){f=this.Va[c];if(-1===f.time){if(!f.nl)continue}else if(f.time>this.b.me.Ca)continue;k.Hb=f.Ve;k.ib=f.ib;k.Ga=0;for(a in f.Ua)f.Ua.hasOwnProperty(a)&&(h=this.b.j[parseInt(a,10)].N(),b=f.Ua[a],h.T=b.fl,wa(h.d,b.Hd),
h=b,h.Hd.length=0,t.push(h));f.Ve.lp();this.b.nh(f.Y);f.xj=!0}a=c=0;for(d=this.Va.length;c<d;c++)f=this.Va[c],this.Va[a]=f,f.xj?(Ma(f.Ua),f.Y.length=0,q.push(f)):a++;this.Va.length=a}})();
(function(){cb=function(l,g){var q=l[1],t=l[3],c=l[4],a=l[5],d=l[6],f=l[7],h=l[8];g.k||(g.k={});g.lc||(g.lc={});g.Xb||(g.Xb={});var b=g.k,k=g.lc,u=g.Xb;t&&(b.Wp=function(a,b){return Ob(this.x,a,b)},b.Xp=function(a,b){return Ob(this.y,a,b)},b.dq=function(){var a=this.e;this.pa();var b=this.xa;return!(b.right<a.U||b.bottom<a.V||b.left>a.ba||b.top>a.aa)},b.fq=function(){this.pa();var a=this.xa,b=this.b.M;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},b.rq=function(a,b,c){var d=this.N(),
e=d.Jb();if(!e.length)return!1;var f=e[0],h=f,k=Ja(f.x,f.y,b,c),g,l,r;g=1;for(l=e.length;g<l;g++)if(f=e[g],r=Ja(f.x,f.y,b,c),0===a&&r<k||1===a&&r>k)k=r,h=f;d.xf(h);return!0},k.Lq=function(a){this.x!==a&&(this.x=a,this.ja())},k.Mq=function(a){this.y!==a&&(this.y=a,this.ja())},k.Gq=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.ja()},k.Hq=function(a,b){var c=a.co(this);if(c){var d;c.Hh?(d=c.Hh(b,!0),c=c.Hh(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.ja()}},
k.kq=function(a){0!==a&&(this.x+=Math.cos(this.i)*a,this.y+=Math.sin(this.i)*a,this.ja())},k.jq=function(a,b){0!==b&&(this.x+=Math.cos(T(a))*b,this.y+=Math.sin(T(a))*b,this.ja())},u.wm=function(a){a.p(this.x)},u.xm=function(a){a.p(this.y)},u.be=function(a){a.p(this.b.Jj(this))});c&&(b.Vp=function(a,b){return Ob(this.width,a,b)},b.Sp=function(a,b){return Ob(this.height,a,b)},k.rm=function(a){this.width!==a&&(this.width=a,this.ja())},k.Dq=function(a){this.height!==a&&(this.height=a,this.ja())},k.Iq=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.ja()},u.Qq=function(a){a.p(this.width)},u.$p=function(a){a.p(this.height)},u.Op=function(a){this.pa();a.p(this.xa.left)},u.Qp=function(a){this.pa();a.p(this.xa.top)},u.Pp=function(a){this.pa();a.p(this.xa.right)},u.Np=function(a){this.pa();a.p(this.xa.bottom)});a&&(b.Ql=function(a,b){return Ha(this.i,T(b))<=T(a)},b.Xl=function(a){return U(this.i,T(a))},b.Wl=function(a,b){var c=Fa(a),d=Fa(b),f=Da(this.i);return U(d,c)?
U(f,c)&&!U(f,d):!(!U(f,c)&&U(f,d))},k.zq=function(a){a=T(Ca(a));isNaN(a)||this.i===a||(this.i=a,this.ja())},k.vq=function(a){0===a||isNaN(a)||(this.i+=T(a),this.i=Da(this.i),this.ja())},k.wq=function(a){0===a||isNaN(a)||(this.i-=T(a),this.i=Da(this.i),this.ja())},k.xq=function(a,b){var c=Ia(this.i,T(b),T(a));isNaN(c)||this.i===c||(this.i=c,this.ja())},k.yq=function(a,b,c){a=Ia(this.i,Math.atan2(c-this.y,b-this.x),T(a));isNaN(a)||this.i===a||(this.i=a,this.ja())},k.Jq=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.i===c||(this.i=c,this.ja())},u.Mp=function(a){a.p(Ea(this.i))});q||(b.Tp=function(a,b,c){return Ob(this.ca[a],b,c)},b.bq=function(a){return this.ca[a]},b.sq=function(a,b){var c=this.N(),d=c.Jb();if(!d.length)return!1;var f=d[0],h=f,k=f.ca[b],g,l,r;g=1;for(l=d.length;g<l;g++)if(f=d[g],r=f.ca[b],0===a&&r<k||1===a&&r>k)k=r,h=f;c.xf(h);return!0},b.qq=function(a){var b,c,d,f,h;if(this.b.Xn().Uh){h=this.N();if(h.T)for(h.T=!1,h.d.length=0,h.G.length=0,d=this.d,b=0,c=d.length;b<
c;b++)f=d[b],f.uid===a?h.G.push(f):h.d.push(f);else{d=b=0;for(c=h.d.length;b<c;b++)f=h.d[b],h.d[d]=f,f.uid===a?h.G.push(f):d++;h.d.length=d}this.Pc();return!!h.d.length}f=this.b.Oj(a);if(!f)return!1;h=this.N();if(!h.T&&-1===h.d.indexOf(f))return!1;if(this.F)for(a=f.type.P,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.xf(f),this.Pc(),!0}else if(f.type===this)return h.xf(f),this.Pc(),!0;return!1},b.em=function(){return!0},b.fm=function(){return!0},k.Eq=function(a,b){var c=this.ca;ga(c[a])?c[a]=ga(b)?
b:parseFloat(b):O(c[a])&&(c[a]=O(b)?b:b.toString())},k.Lp=function(a,b){var c=this.ca;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):O(c[a])&&(c[a]=O(b)?c[a]+b:c[a]+b.toString())},k.Nq=function(a,b){var c=this.ca;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},k.Aq=function(a,b){this.ca[a]=b?1:0},k.Oq=function(a){this.ca[a]=1-this.ca[a]},k.Zp=function(){this.b.Vd(this)},k.Zl||(k.Zl=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.tg(this,b,!0);this.td&&this.td();if(this.r)for(a=0,b=
this.r.length;a<b;++a)c=this.r[a],c.td&&c.td()}),u.Yp=function(a){var b=a.Qd.d.length,c,d,f;c=0;for(d=this.b.Ub.length;c<d;c++)f=this.b.Ub[c],a.Qd.F?0<=f.type.P.indexOf(a.Qd)&&b++:f.type===a.Qd&&b++;a.O(b)},u.uq=function(a){a.O(a.Qd.N().Jb().length)},u.Pq=function(a){a.O(this.uid)},u.aq=function(a){a.O(this.$e())},u.Rl||(u.Rl=function(a){a.Ta(JSON.stringify(this.b.Hi(this,!0)))}));d&&(b.gq=function(){return this.visible},k.Kq=function(a){!a!==!this.visible&&(this.visible=a,this.b.L=!0)},b.Up=function(a,
b){return Ob(Za(100*this.opacity),a,b)},k.Fq=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.L=!0)},u.Opacity=function(a){a.p(Za(100*this.opacity))});f&&(b.cq=function(a){return a?this.e===a:!1},b.tq=function(a){var b=this.N(),c=b.Jb();if(!c.length)return!1;var d=c[0],f=d,h,k;h=1;for(k=c.length;h<k;h++)if(d=c[h],0===a){if(d.e.index>f.e.index||d.e.index===f.e.index&&d.Yb()>f.Yb())f=d}else if(d.e.index<f.e.index||d.e.index===f.e.index&&d.Yb()<f.Yb())f=d;b.xf(f);return!0},
k.nq=function(){var a=this.e,b=a.d;b.length&&b[b.length-1]===this||(a.we(this,!1),a.Le(this,!1),this.b.L=!0)},k.lq=function(){var a=this.e,b=a.d;b.length&&b[0]===this||(a.we(this,!1),a.gp(this),this.b.L=!0)},k.mq=function(a){a&&a!=this.e&&(this.e.we(this,!0),this.e=a,a.Le(this,!0),this.b.L=!0)},k.Sq=function(a,b){var c=0===a;if(b){var d=b.Yn(this);d&&d.uid!==this.uid&&(this.e.index!==d.e.index&&(this.e.we(this,!0),this.e=d.e,d.e.Le(this,!0)),this.e.Qo(this,d,c),this.b.L=!0)}},u.iq=function(a){a.O(this.e.Jk)},
u.hq=function(a){a.Ta(this.e.name)},u.Rq=function(a){a.O(this.Yb())});h&&(k.Bq=function(a,b){if(this.b.n){var c=this.type.Gh(b);if(!(0>c)){var d=1===a;this.Oc[c]!==d&&(this.Oc[c]=d,this.Jc(),this.b.L=!0)}}},k.Cq=function(a,b,c){if(this.b.n){var d=this.type.Gh(a);0>d||(a=this.type.q[d],d=this.R[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.n.ho(a.ua,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Ya&&(this.b.L=!0))))}})};vb=function(){this.hh=this.ah=!0;this.type.ej=!0;this.b.L=!0;var l,g,q=this.bh;l=0;for(g=
q.length;l<g;++l)q[l](this);this.e.Qb&&this.pa()};wb=function(l){l&&this.bh.push(l)};yb=function(){if(this.ah){var l=this.xa,g=this.xd;l.set(this.x,this.y,this.x+this.width,this.y+this.height);l.offset(-this.Oa*this.width,-this.Pa*this.height);this.i?(l.offset(-this.x,-this.y),g.kl(l,this.i),g.offset(this.x,this.y),g.nj(l)):g.Hg(l);l.normalize();this.ah=!1;this.Gp()}};var l=new R(0,0,0,0);zb=function(){if(this.e.Qb){var r=this.e.Sa,g=this.xa;l.set(r.Wa(g.left),r.Xa(g.top),r.Wa(g.right),r.Xa(g.bottom));
this.Ha.Uf(l)||(this.Ha.right<this.Ha.left?r.update(this,null,l):r.update(this,this.Ha,l),this.Ha.Of(l),this.e.Ec=!0)}};Ab=function(){if(this.hh&&this.Qe){this.pa();var r=this.type.tj,g=this.xa;l.set(r.Wa(g.left),r.Xa(g.top),r.Wa(g.right),r.Xa(g.bottom));this.Tc.Uf(l)||(this.Tc.right<this.Tc.left?r.update(this,null,l):r.update(this,this.Tc,l),this.Tc.Of(l),this.hh=!1)}};xb=function(l,g){return this.xa.nb(l,g)&&this.xd.nb(l,g)?this.Tb&&!this.Tb.Io()?(this.Tb.Hm(this.width,this.height,this.i),this.Tb.nb(l-
this.x,g-this.y)):!0:!1};rb=function(){this.type.Qg();return this.Fd};Bb=function(){this.e.Ti();return this.Rb};Cb=function(){this.H.length=0;var l,g;l=0;for(g=this.Oc.length;l<g;l++)this.Oc[l]&&this.H.push(this.type.q[l]);this.Nl=!!this.H.length};sb=function(){return"Inst"+this.$k};fb=function(l){if(l&&l.Lb&&l.type!=this){var g,q,t;g=0;for(q=l.siblings.length;g<q;g++)if(t=l.siblings[g],t.type==this)return t}l=this.N().Jb();return l.length?l[0]:null};gb=function(l){var g=this.N().Jb();return g.length?
g[l.$e()%g.length]:null};eb=function(){if(this.Ce&&!this.F){var l,g;l=0;for(g=this.d.length;l<g;l++)this.d[l].Fd=l;var q=l,t=this.b.Ub;l=0;for(g=t.length;l<g;++l)t[l].type===this&&(t[l].Fd=q++);this.Ce=!1}};pb=function(l){if(l<this.d.length)return this.d[l];l-=this.d.length;var g=this.b.Ub,q,t;q=0;for(t=g.length;q<t;++q)if(g[q].type===this){if(0===l)return g[q];--l}return null};hb=function(){return this.qd[this.qc]};ib=function(){this.qc++;this.qc===this.qd.length?this.qd.push(new db(this)):this.qd[this.qc].T=
!0};jb=function(){this.qc++;this.qc===this.qd.length&&this.qd.push(new db(this));var l=this.qd[this.qc],g=this.qd[this.qc-1];g.T?l.T=!0:(l.T=!1,wa(l.d,g.d),wa(l.G,g.G))};kb=function(){this.qc--};lb=function(l){var g,q,t,c,a,d=0;if(!this.F)for(g=0,q=this.P.length;g<q;g++)for(a=this.P[g],t=0,c=a.Z.length;t<c;t++){if(l===a.Z[t].name)return this.W.lastBehIndex=d,a.Z[t];d++}g=0;for(q=this.Z.length;g<q;g++){if(l===this.Z[g].name)return this.W.lastBehIndex=d,this.Z[g];d++}return null};mb=function(l){return this.ag(l)?
this.W.lastBehIndex:-1};nb=function(l){var g,q;g=0;for(q=this.q.length;g<q;g++)if(this.q[g].name===l)return g;return-1};ob=function(){if(this.Lb&&!this.F){var l,g,q,t,c,a,d;this.Qg();a=this.N();var f=a.T,h=(l=this.b.Ma())&&l.Hb&&l.Hb.ac;l=0;for(g=this.Ka.length;l<g;l++)if(c=this.Ka[l],c!==this&&(c.Qg(),d=c.N(),d.T=f,!f)){d.d.length=a.d.length;q=0;for(t=a.d.length;q<t;q++)d.d[q]=c.Lj(a.d[q].Fd);if(h)for(d.G.length=a.G.length,q=0,t=a.G.length;q<t;q++)d.G[q]=c.Lj(a.G[q].Fd)}}};qb=function(){return"Type"+
this.D};Ob=function(l,g,q){if("undefined"===typeof l||"undefined"===typeof q)return!1;switch(g){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}}})();var Xb={};function Y(l){this.b=l}
(function(){function l(){}function r(){}var g=Y.prototype;g.kc=function(g){this.ga=g;this.b=g.b};g.kc.prototype.oa=function(){};g.hb=function(g){this.type=g;this.b=g.b};g.hb.prototype.oa=function(){var g=this;window.addEventListener("resize",function(){g.b.trigger(Y.prototype.k.om,g)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){g.b.trigger(Y.prototype.k.km,g)}),window.addEventListener("offline",function(){g.b.trigger(Y.prototype.k.jm,g)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){g.b.oe=1;g.b.trigger(Y.prototype.k.$i,g)}),window.applicationCache.addEventListener("progress",function(l){g.b.oe=l.loaded/l.total}));this.b.$c||(document.addEventListener("appMobi.device.update.available",function(){g.b.trigger(Y.prototype.k.$i,g)}),document.addEventListener("backbutton",function(){g.b.trigger(Y.prototype.k.Ug,g)}),document.addEventListener("menubutton",function(){g.b.trigger(Y.prototype.k.Zi,g)}),document.addEventListener("searchbutton",
function(){g.b.trigger(Y.prototype.k.pm,g)}),document.addEventListener("tizenhwkey",function(l){var c;switch(l.keyName){case "back":c=g.b.trigger(Y.prototype.k.Ug,g);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=g.b.trigger(Y.prototype.k.Zi,g))||l.preventDefault()}}));this.b.ig&&(WinJS.Application.onbackclick=function(){return!!g.b.trigger(Y.prototype.k.Ug,g)});this.b.zm(function(l){l?g.b.trigger(Y.prototype.k.lm,g):g.b.trigger(Y.prototype.k.mm,g)});
this.$h="undefined"!==typeof window.is_scirra_arcade};l.prototype.km=function(){return!0};l.prototype.jm=function(){return!0};l.prototype.$i=function(){return!0};l.prototype.mm=function(){return!0};l.prototype.lm=function(){return!0};l.prototype.om=function(){return!0};l.prototype.Ug=function(){return!0};l.prototype.Zi=function(){return!0};l.prototype.pm=function(){return!0};g.k=new l;r.prototype.Vl=function(g,l){this.b.rb?CocoonJS.App.openURL(g):this.b.sb?ejecta.openURL(g):this.b.Yh?Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(g)):
navigator.app&&navigator.app.loadUrl?navigator.app.loadUrl(g,{openExternal:!0}):this.b.Zc?window.open(g,"_system"):this.$h||this.b.ra||(2!==l||this.$h?1!==l||this.$h?window.location=g:window.parent.location=g:window.top.location=g)};g.lc=new r;g.Xb=new function(){}})();function $b(l){this.b=l}
(function(){function l(){}function r(){}var g=$b.prototype;g.kc=function(c){this.ga=c;this.b=c.b};g.kc.prototype.oa=function(){};g.hb=function(c){this.type=c;this.b=c.b;this.dh=Array(4);this.Cl=this.Og=this.Ee=this.jd=this.hd=0;this.Mh=!1};var q=g.hb.prototype;q.oa=function(){var c=this;if(!this.b.ra){jQuery(document).mousemove(function(a){c.Wo(a)});jQuery(document).mousedown(function(a){c.Vo(a)});jQuery(document).mouseup(function(a){c.Xo(a)});jQuery(document).dblclick(function(a){c.Uo(a)});var a=
function(a){c.Zo(a)};document.addEventListener("mousewheel",a,!1);document.addEventListener("DOMMouseScroll",a,!1)}};var t={left:0,top:0};q.Wo=function(c){var a=this.b.ra?t:jQuery(this.b.canvas).offset();this.hd=c.pageX-a.left;this.jd=c.pageY-a.top};q.Ek=function(){return 0<this.b.La?!0:0<=this.hd&&0<=this.jd&&this.hd<this.b.width&&this.jd<this.b.height};q.Vo=function(c){this.Ek()&&(this.b.Lh&&!this.b.xc&&c.preventDefault(),this.dh[c.which]=!0,this.b.bd=!0,this.b.trigger($b.prototype.k.cm,this),this.Ee=
c.which-1,this.Og=0,this.b.trigger($b.prototype.k.Xi,this),this.b.trigger($b.prototype.k.Wg,this),this.b.bd=!1)};q.Xo=function(c){this.dh[c.which]&&(this.b.Lh&&!this.b.xc&&c.preventDefault(),this.b.Lh=!0,this.dh[c.which]=!1,this.b.bd=!0,this.Ee=c.which-1,this.b.trigger($b.prototype.k.nm,this),this.b.bd=!1)};q.Uo=function(c){this.Ek()&&(c.preventDefault(),this.b.bd=!0,this.Ee=c.which-1,this.Og=1,this.b.trigger($b.prototype.k.Xi,this),this.b.trigger($b.prototype.k.Wg,this),this.b.bd=!1)};q.Zo=function(c){this.Cl=
0>(c.wheelDelta?c.wheelDelta:c.detail?-c.detail:0)?0:1;this.Mh=!1;this.b.bd=!0;this.b.trigger($b.prototype.k.qm,this);this.b.bd=!1;this.Mh&&ab(c)&&c.preventDefault()};l.prototype.Xi=function(c,a){return c===this.Ee&&a===this.Og};l.prototype.cm=function(){return!0};l.prototype.nm=function(c){return c===this.Ee};l.prototype.Wg=function(c,a,d){return c!==this.Ee||a!==this.Og?!1:this.b.zp(d,this.hd,this.jd)};l.prototype.qm=function(c){this.Mh=!0;return c===this.Cl};g.k=new l;g.lc=new function(){};r.prototype.wm=
function(c,a){var d,f,h,b,k;fa(a)?(d=this.b.Ye(0),f=d.scale,h=d.Mc,b=d.Cc,k=d.i,d.scale=1,d.Mc=1,d.Cc=1,d.i=0,c.p(d.Ja(this.hd,this.jd,!0)),d.scale=f,d.Mc=h,d.Cc=b,d.i=k):(d=ga(a)?this.b.Ye(a):this.b.Ih(a))?c.p(d.Ja(this.hd,this.jd,!0)):c.p(0)};r.prototype.xm=function(c,a){var d,f,h,b,k;fa(a)?(d=this.b.Ye(0),f=d.scale,h=d.Mc,b=d.Dc,k=d.i,d.scale=1,d.Mc=1,d.Dc=1,d.i=0,c.p(d.Ja(this.hd,this.jd,!1)),d.scale=f,d.Mc=h,d.Dc=b,d.i=k):(d=ga(a)?this.b.Ye(a):this.b.Ih(a))?c.p(d.Ja(this.hd,this.jd,!1)):c.p(0)};
g.Xb=new r})();function Zb(l){this.b=l}
(function(){function l(){if(0===this.rh.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var c=a.getContext("2d");this.Be?c.drawImage(this.Ia,this.re,this.se,this.width,this.height,0,0,this.width,this.height):c.drawImage(this.Ia,0,0,this.width,this.height);this.rh=a.toDataURL("image/png")}return this.rh}function r(){}var g=Zb.prototype;g.kc=function(a){this.ga=a;this.b=a.b};var q=g.kc.prototype;q.oa=function(){if(!this.F){var a,c,b,d,g,m,p,q,n;this.Fb=[];this.df=
!1;a=0;for(c=this.Ea.length;a<c;a++){g=this.Ea[a];p={};p.name=g[0];p.speed=g[1];p.loop=g[2];p.Bi=g[3];p.Fg=g[4];p.Sk=g[5];p.D=g[6];p.frames=[];b=0;for(d=g[7].length;b<d;b++)m=g[7][b],q={},q.wl=m[0],q.xl=m[1],q.re=m[2],q.se=m[3],q.width=m[4],q.height=m[5],q.duration=m[6],q.Oa=m[7],q.Pa=m[8],q.Ph=m[9],q.Bg=m[10],q.Tk=m[11],q.Be=0!==q.width,q.rh="",q.Vq=l,n={left:0,top:0,right:1,bottom:1},q.Ji=n,q.Kc=null,(n=this.b.Sn(m[0]))?q.Ia=n:(q.Ia=new Image,q.Ia.Mm=m[0],q.Ia.Lm=m[1],q.Ia.Gm=null,this.b.Kp(q.Ia,
m[0])),p.frames.push(q),this.Fb.push(q);this.Ea[a]=p}}};q.Ml=function(){var a,c,b;a=0;for(c=this.d.length;a<c;a++)b=this.d[a],b.Rf=b.ob.Kc};q.ni=function(){if(!this.F){var a,c,b;a=0;for(c=this.Fb.length;a<c;++a)b=this.Fb[a],b.Ia.Gm=null,b.Kc=null;this.df=!1;this.Ml()}};q.Ok=function(){if(!this.F&&this.d.length){var a,c,b;a=0;for(c=this.Fb.length;a<c;++a)b=this.Fb[a],b.Kc=this.b.n.lk(b.Ia,this.b.I,b.Tk);this.Ml()}};q.Mo=function(){if(!this.F&&!this.df&&this.b.n){var a,c,b;a=0;for(c=this.Fb.length;a<
c;++a)b=this.Fb[a],b.Kc=this.b.n.lk(b.Ia,this.b.I,b.Tk);this.df=!0}};q.Jl=function(){if(!this.F&&!this.d.length&&this.df){var a,c,b;a=0;for(c=this.Fb.length;a<c;++a)b=this.Fb[a],this.b.n.deleteTexture(b.Kc),b.Kc=null;this.df=!1}};var t=[];q.Xk=function(a){var c,b,d;c=t.length=0;for(b=this.Fb.length;c<b;++c)d=this.Fb[c].Ia,-1===t.indexOf(d)&&(a.drawImage(d,0,0),t.push(d))};g.hb=function(a){this.type=a;this.b=a.b;a=this.type.Ea[0].frames[0].Bg;this.xb?this.Tb.Cf(a):this.Tb=new Ua(a)};var c=g.hb.prototype;
c.oa=function(){this.visible=0===this.Da[0];this.Qe=0!==this.Da[3];1===this.type.Ea.length&&1===this.type.Ea[0].frames.length||0===this.type.Ea[0].speed||this.b.Al(this);this.Q=this.Hj(this.Da[1])||this.type.Ea[0];this.m=this.Da[2];0>this.m&&(this.m=0);this.m>=this.Q.frames.length&&(this.m=this.Q.frames.length-1);var a=this.Q.frames[this.m];this.Tb.Cf(a.Bg);this.Oa=a.Oa;this.Pa=a.Pa;this.Te=this.Q.speed;this.xb?this.Sb.reset():this.Sb=new Sa;this.uc=this.Sb.Ca;this.vd=!0;this.mc=0;this.ud=!0;this.lh=
this.cj="";this.Im=0;this.kh=-1;this.type.Mo();var c,b,d,g,m,l,q,a=0;for(c=this.type.Ea.length;a<c;a++)for(g=this.type.Ea[a],b=0,d=g.frames.length;b<d;b++)m=g.frames[b],0===m.width&&(m.width=m.Ia.width,m.height=m.Ia.height),m.Be&&(q=m.Ia,l=m.Ji,l.left=m.re/q.width,l.top=m.se/q.height,l.right=(m.re+m.width)/q.width,l.bottom=(m.se+m.height)/q.height,0===m.re&&0===m.se&&m.width===q.width&&m.height===q.height&&(m.Be=!1));this.ob=this.Q.frames[this.m];this.Rf=this.ob.Kc};c.Pb=function(){var a={a:this.Q.D,
f:this.m,cas:this.Te,fs:this.uc,ar:this.mc,at:this.Sb.Ca};this.vd||(a.ap=this.vd);this.ud||(a.af=this.ud);return a};c.zc=function(a){var c=this.Vn(a.a);c&&(this.Q=c);this.m=a.f;0>this.m&&(this.m=0);this.m>=this.Q.frames.length&&(this.m=this.Q.frames.length-1);this.Te=a.cas;this.uc=a.fs;this.mc=a.ar;this.Sb.reset();this.Sb.Ca=a.at;this.vd=a.hasOwnProperty("ap")?a.ap:!0;this.ud=a.hasOwnProperty("af")?a.af:!0;this.ob=this.Q.frames[this.m];this.Rf=this.ob.Kc;this.Tb.Cf(this.ob.Bg);this.Oa=this.ob.Oa;
this.Pa=this.ob.Pa};c.$g=function(a){this.m=a?0:this.Q.frames.length-1;this.vd=!1;this.cj=this.Q.name;this.b.trigger(Zb.prototype.k.am,this);this.b.trigger(Zb.prototype.k.$l,this);this.mc=0};c.hj=function(){return this.Sb.Ca};c.Td=function(){this.Sb.add(this.b.Jj(this));this.lh.length&&this.Rm();0<=this.kh&&this.Sm();var a=this.Sb.Ca,c=this.Q,b=c.frames[this.m],d=b.duration/this.Te;this.vd&&a>=this.uc+d&&(this.ud?this.m++:this.m--,this.uc+=d,this.m>=c.frames.length&&(c.Sk?(this.ud=!1,this.m=c.frames.length-
2):c.loop?this.m=c.Fg:(this.mc++,this.mc>=c.Bi?this.$g(!1):this.m=c.Fg)),0>this.m&&(c.Sk?(this.m=1,this.ud=!0,c.loop||(this.mc++,this.mc>=c.Bi&&this.$g(!0))):c.loop?this.m=c.Fg:(this.mc++,this.mc>=c.Bi?this.$g(!0):this.m=c.Fg)),0>this.m?this.m=0:this.m>=c.frames.length&&(this.m=c.frames.length-1),a>this.uc+c.frames[this.m].duration/this.Te&&(this.uc=a),a=c.frames[this.m],this.Yd(b,a),this.b.L=!0)};c.Hj=function(a){var c,b,d;c=0;for(b=this.type.Ea.length;c<b;c++)if(d=this.type.Ea[c],$a(d.name,a))return d;
return null};c.Vn=function(a){var c,b,d;c=0;for(b=this.type.Ea.length;c<b;c++)if(d=this.type.Ea[c],d.D===a)return d;return null};c.Rm=function(){var a=this.Q.frames[this.m],c=this.Hj(this.lh);this.lh="";!c||$a(c.name,this.Q.name)&&this.vd||(this.Q=c,this.Te=c.speed,0>this.m&&(this.m=0),this.m>=this.Q.frames.length&&(this.m=this.Q.frames.length-1),1===this.Im&&(this.m=0),this.vd=!0,this.uc=this.Sb.Ca,this.ud=!0,this.Yd(a,this.Q.frames[this.m]),this.b.L=!0)};c.Sm=function(){var a=this.Q.frames[this.m],
c=this.m;this.m=Q(this.kh);0>this.m&&(this.m=0);this.m>=this.Q.frames.length&&(this.m=this.Q.frames.length-1);c!==this.m&&(this.Yd(a,this.Q.frames[this.m]),this.uc=this.Sb.Ca,this.b.L=!0);this.kh=-1};c.Yd=function(a,c){var b=a.width,d=a.height,g=c.width,m=c.height;b!=g&&(this.width*=g/b);d!=m&&(this.height*=m/d);this.Oa=c.Oa;this.Pa=c.Pa;this.Tb.Cf(c.Bg);this.ja();this.ob=c;this.Rf=c.Kc;b=0;for(d=this.r.length;b<d;b++)g=this.r[b],g.Yo&&g.Yo(a,c);this.b.trigger(Zb.prototype.k.Yd,this)};c.rc=function(a){a.globalAlpha=
this.opacity;var c=this.ob,b=c.Be,d=c.Ia,g=this.x,m=this.y,l=this.width,q=this.height;if(0===this.i&&0<=l&&0<=q)g-=this.Oa*l,m-=this.Pa*q,this.b.ld&&(g=Math.round(g),m=Math.round(m)),b?a.drawImage(d,c.re,c.se,c.width,c.height,g,m,l,q):a.drawImage(d,g,m,l,q);else{this.b.ld&&(g=Math.round(g),m=Math.round(m));a.save();var n=0<l?1:-1,e=0<q?1:-1;a.translate(g,m);1===n&&1===e||a.scale(n,e);a.rotate(this.i*n*e);g=0-this.Oa*ma(l);m=0-this.Pa*ma(q);b?a.drawImage(d,c.re,c.se,c.width,c.height,g,m,ma(l),ma(q)):
a.drawImage(d,g,m,ma(l),ma(q));a.restore()}};c.Ib=function(a){a.eb(this.Rf);a.ye(this.opacity);var c=this.ob,b=this.xd;if(this.b.ld){var d=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;c.Be?a.md(b.fb+d,b.gb+g,b.Bb+d,b.Cb+g,b.lb+d,b.mb+g,b.jb+d,b.kb+g,c.Ji):a.Eg(b.fb+d,b.gb+g,b.Bb+d,b.Cb+g,b.lb+d,b.mb+g,b.jb+d,b.kb+g)}else c.Be?a.md(b.fb,b.gb,b.Bb,b.Cb,b.lb,b.mb,b.jb,b.kb,c.Ji):a.Eg(b.fb,b.gb,b.Bb,b.Cb,b.lb,b.mb,b.jb,b.kb)};c.$n=function(a){var c=this.ob,b,d;b=0;for(d=c.Ph.length;b<d;b++)if($a(a,
c.Ph[b][0]))return b;return-1};c.Hh=function(a,c){var b=this.ob,d=b.Ph,g;O(a)?g=this.$n(a):g=a-1;g=Q(g);if(0>g||g>=d.length)return c?this.x:this.y;var m=(d[g][1]-b.Oa)*this.width,d=d[g][2],d=(d-b.Pa)*this.height,b=Math.cos(this.i);g=Math.sin(this.i);var l=m*b-d*g,d=d*b+m*g,m=l+this.x,d=d+this.y;return c?m:d};var a=new K,d=!1;new R(0,0,0,0);q.finish=function(c){if(d){if(c){var g=this.b.Ma().Hb.ac;c=null.N();var b=a.sd(),k,l;if(c.T){c.T=!1;c.d.length=b.length;k=0;for(l=b.length;k<l;k++)c.d[k]=b[k];
if(g)for(k=c.G.length=0,l=null.d.length;k<l;k++)b=null.d[k],a.contains(b)||c.G.push(b)}else if(g)for(g=c.d.length,c.d.length=g+b.length,k=0,l=b.length;k<l;k++)c.d[g+k]=b[k],Aa(c.G,b[k]);else wa(c.d,b);null.Pc()}a.clear();d=!1}};r.prototype.$l=function(a){return $a(this.cj,a)};r.prototype.am=function(){return!0};r.prototype.Yd=function(){return!0};g.k=new r;g.lc=new function(){};g.Xb=new function(){}})();function ac(l){this.b=l}
(function(){function l(){return c.length?c.pop():{}}function r(a){var d,f;d=0;for(f=a.length;d<f;d++)c.push(a[d]);a.length=0}var g=ac.prototype;g.oa=function(){g.lc.rm=function(a){this.width!==a&&(this.width=a,this.De=!0,this.ja())}};g.kc=function(a){this.ga=a;this.b=a.b};var q=g.kc.prototype;q.oa=function(){};q.ni=function(){if(!this.F){var a,c,f;a=0;for(c=this.d.length;a<c;a++)f=this.d[a],f.$b=null,f.Pd=null,f.Ra=null}};g.hb=function(a){this.type=a;this.b=a.b;this.xb?this.fd.length=0:this.fd=[];
this.De=!0};q=g.hb.prototype;q.oa=function(){this.text=this.Da[0];this.visible=0===this.Da[1];this.font=this.Da[2];this.color=this.Da[3];this.fg=this.Da[4];this.Rg=this.Da[5];this.Wi=0===this.Da[7];this.ci=this.pg=this.width;this.og=this.height;this.ei=this.Da[8];this.Zf=this.de="";this.tl=this.ul=this.zf=0;this.$o();this.Ra=this.Pd=this.$b=null;this.Hk=!1;this.nf=this.b.Gc;this.xb?this.ve.set(0,0,1,1):this.ve=new R(0,0,1,1);this.b.n&&this.b.Al(this)};q.$o=function(){var a=this.font.split(" "),c;
for(c=0;c<a.length;c++)if("pt"===a[c].substr(a[c].length-2,2)){this.zf=parseInt(a[c].substr(0,a[c].length-2));this.wi=Math.ceil(this.zf/72*96)+4;0<c&&(this.Zf=a[c-1]);this.de=a[c+1];for(c+=2;c<a.length;c++)this.de+=" "+a[c];break}};q.Pb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.fg,va:this.Rg,wr:this.Wi,lho:this.ei,fn:this.de,fs:this.Zf,ps:this.zf,pxh:this.wi,tw:this.ul,th:this.tl,lrt:this.nf}};q.zc=function(a){this.text=a.t;this.font=a.f;this.color=a.c;this.fg=a.ha;this.Rg=a.va;
this.Wi=a.wr;this.ei=a.lho;this.de=a.fn;this.Zf=a.fs;this.zf=a.ps;this.wi=a.pxh;this.ul=a.tw;this.tl=a.th;this.nf=a.lrt;this.De=!0;this.ci=this.pg=this.width;this.og=this.height};q.Td=function(){if(this.b.n&&this.Ra&&300<=this.b.Gc-this.nf){var a=this.e;this.pa();var c=this.xa;if(c.right<a.U||c.bottom<a.V||c.left>a.ba||c.top>a.aa)this.b.n.deleteTexture(this.Ra),this.$b=this.Pd=this.Ra=null}};q.Ag=function(){this.$b=this.Pd=null;this.b.n&&this.Ra&&this.b.n.deleteTexture(this.Ra);this.Ra=null};q.hj=
function(){this.font=this.Zf+" "+this.zf.toString()+"pt "+this.de;this.De=!0;this.b.L=!0};q.rc=function(a,c){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=c?1:this.opacity;var f=1;c&&(f=this.e.ab(),a.save(),a.scale(f,f));if(this.De||this.width!==this.ci)this.type.ga.um(this.text,this.fd,a,this.width,this.Wi),this.De=!1,this.ci=this.width;this.pa();var f=c?0:this.xd.fb,g=c?0:this.xd.gb;this.b.ld&&(f=f+.5|0,g=g+.5|0);0===this.i||c||(a.save(),a.translate(f,g),a.rotate(this.i),
g=f=0);var b=g+this.height,k=this.wi,k=k+this.ei,l,m;1===this.Rg?g+=Math.max(this.height/2-this.fd.length*k/2,0):2===this.Rg&&(g+=Math.max(this.height-this.fd.length*k-2,0));for(m=0;m<this.fd.length&&!(l=f,1===this.fg?l=f+(this.width-this.fd[m].width)/2:2===this.fg&&(l=f+(this.width-this.fd[m].width)),a.fillText(this.fd[m].text,l,g),g+=k,g>=b-k);m++);(0!==this.i||c)&&a.restore();this.nf=this.b.Gc};q.Ib=function(a){if(!(1>this.width||1>this.height)){var c=this.De||this.Hk;this.Hk=!1;var f=this.e.ab(),
g=this.e.$a(),b=this.ve,k=f*this.width,l=f*this.height,m=Math.ceil(k),p=Math.ceil(l),q=this.b.C/2,n=this.b.B/2;this.Pd||(this.$b=document.createElement("canvas"),this.$b.width=m,this.$b.height=p,this.pg=m,this.og=p,c=!0,this.Pd=this.$b.getContext("2d"));if(m!==this.pg||p!==this.og)this.$b.width=m,this.$b.height=p,this.Ra&&(a.deleteTexture(this.Ra),this.Ra=null),c=!0;c&&(this.Pd.clearRect(0,0,m,p),this.rc(this.Pd,!0),this.Ra||(this.Ra=a.oc(m,p,this.b.I,this.b.xc)),a.Jp(this.$b,this.Ra,this.b.xc));
this.pg=m;this.og=p;a.eb(this.Ra);a.ye(this.opacity);a.ec();a.translate(-q,-n);a.ic();var e=this.xd,c=this.e.da(e.fb,e.gb,!0),q=this.e.da(e.fb,e.gb,!1),n=this.e.da(e.Bb,e.Cb,!0),r=this.e.da(e.Bb,e.Cb,!1),t=this.e.da(e.lb,e.mb,!0),G=this.e.da(e.lb,e.mb,!1),D=this.e.da(e.jb,e.kb,!0),e=this.e.da(e.jb,e.kb,!1);if(this.b.ld||0===this.i&&0===g)var x=(c+.5|0)-c,Z=(q+.5|0)-q,c=c+x,q=q+Z,n=n+x,r=r+Z,t=t+x,G=G+Z,D=D+x,e=e+Z;0===this.i&&0===g?(n=c+m,r=q,t=n,G=q+p,D=c,e=G,b.right=1,b.bottom=1):(b.right=k/m,b.bottom=
l/p);a.md(c,q,n,r,t,G,D,e,b);a.ec();a.scale(f,f);a.Di(-this.e.$a());a.translate((this.e.U+this.e.ba)/-2,(this.e.V+this.e.aa)/-2);a.ic();this.nf=this.b.Gc}};var t=[];g.tm=function(a){t.length=0;for(var c="",f,g=0;g<a.length;)if(f=a.charAt(g),"\n"===f)c.length&&(t.push(c),c=""),t.push("\n"),++g;else if(" "===f||"\t"===f||"-"===f){do c+=a.charAt(g),g++;while(g<a.length&&(" "===a.charAt(g)||"\t"===a.charAt(g)));t.push(c);c=""}else g<a.length&&(c+=f,g++);c.length&&t.push(c)};var c=[];g.um=function(a,c,
f,g,b){if(a&&a.length)if(2>=g)r(c);else{if(100>=a.length&&-1===a.indexOf("\n")){var k=f.measureText(a).width;if(k<=g){r(c);c.push(l());c[0].text=a;c[0].width=k;return}}this.vm(a,c,f,g,b)}else r(c)};g.vm=function(a,d,f,g,b){b&&(this.tm(a),a=t);var k="",q,m,p,r=0;for(p=0;p<a.length;p++)"\n"===a[p]?(r>=d.length&&d.push(l()),m=d[r],m.text=k,m.width=f.measureText(k).width,r++,k=""):(q=k,k+=a[p],m=f.measureText(k).width,m>=g&&(r>=d.length&&d.push(l()),m=d[r],m.text=q,m.width=f.measureText(q).width,r++,
k=a[p],b||" "!==k||(k="")));k.length&&(r>=d.length&&d.push(l()),m=d[r],m.text=k,m.width=f.measureText(k).width,r++);for(p=r;p<d.length;p++)c.push(d[p]);d.length=r};g.k=new function(){};g.lc=new function(){};g.Xb=new function(){}})();function Yb(){return[Zb,ac,Y,$b,$b.prototype.k.Wg,Y.prototype.lc.Vl]};
